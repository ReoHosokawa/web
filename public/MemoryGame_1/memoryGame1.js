(()=>{var t={255:function(t,e,n){var r;!function(o,i){var u={Identity:function(t){return t},True:function(){return!0},Blank:function(){}},a="boolean",c="number",s="string",f=typeof{},l="undefined",h="function",p={"":u.Identity},d={createLambda:function(t){if(null==t)return u.Identity;if(typeof t===s){var e=p[t];if(null!=e)return e;if(-1===t.indexOf("=>")){for(var n,r=new RegExp("[$]+","g"),o=0;null!=(n=r.exec(t));){var i=n[0].length;i>o&&(o=i)}for(var a=[],c=1;c<=o;c++){for(var f="",l=0;l<c;l++)f+="$";a.push(f)}var h=Array.prototype.join.call(a,",");return e=new Function(h,"return "+t),p[t]=e,e}var d=t.match(/^[(\s]*([^()]*?)[)\s]*=>(.*)/);return e=new Function(d[1],d[2].match(/\breturn\b/)?d[2]:"return "+d[2]),p[t]=e,e}return t},isIEnumerable:function(t){if(typeof Enumerator!==l)try{return new Enumerator(t),!0}catch(t){}return!1},defineProperty:null!=Object.defineProperties?function(t,e,n){Object.defineProperty(t,e,{enumerable:!1,configurable:!0,writable:!0,value:n})}:function(t,e,n){t[e]=n},compare:function(t,e){return t===e?0:t>e?1:-1},dispose:function(t){null!=t&&t.dispose()},hasNativeIteratorSupport:function(){return"undefined"!=typeof Symbol&&void 0!==Symbol.iterator}},m=function(t,e,n){var r=new y,o=0;this.current=r.current,this.moveNext=function(){try{switch(o){case 0:o=1,t();case 1:return!!e.apply(r)||(this.dispose(),!1);case 2:return!1}}catch(t){throw this.dispose(),t}},this.dispose=function(){if(1==o)try{n()}finally{o=2}}},y=function(){var t=null;this.current=function(){return t},this.yieldReturn=function(e){return t=e,!0},this.yieldBreak=function(){return!1}},v=function(t){this.getEnumerator=t};(v.Utils={}).createLambda=function(t){return d.createLambda(t)},v.Utils.createEnumerable=function(t){return new v(t)},v.Utils.createEnumerator=function(t,e,n){return new m(t,e,n)},v.Utils.extendTo=function(t){var e,n=t.prototype;for(var r in t===Array?(e=E.prototype,d.defineProperty(n,"getSource",(function(){return this}))):(e=v.prototype,d.defineProperty(n,"getEnumerator",(function(){return v.from(this).getEnumerator()}))),e){var o=e[r];n[r]!=o&&(null!=n[r]&&n[r+="ByLinq"]==o||o instanceof Function&&d.defineProperty(n,r,o))}},v.Utils.recallFrom=function(t){var e,n=t.prototype;for(var r in t===Array?(e=E.prototype,delete n.getSource):(e=v.prototype,delete n.getEnumerator),e){var o=e[r];n[r+"ByLinq"]?delete n[r+"ByLinq"]:n[r]==o&&o instanceof Function&&delete n[r]}},v.choice=function(){var t=arguments;return new v((function(){return new m((function(){t=t[0]instanceof Array?t[0]:null!=t[0].getEnumerator?t[0].toArray():t}),(function(){return this.yieldReturn(t[Math.floor(Math.random()*t.length)])}),u.Blank)}))},v.cycle=function(){var t=arguments;return new v((function(){var e=0;return new m((function(){t=t[0]instanceof Array?t[0]:null!=t[0].getEnumerator?t[0].toArray():t}),(function(){return e>=t.length&&(e=0),this.yieldReturn(t[e++])}),u.Blank)}))},v.empty=function(){return new v((function(){return new m(u.Blank,(function(){return!1}),u.Blank)}))},v.from=function(t){if(null==t)return v.empty();if(t instanceof v)return t;if(typeof t==c||typeof t==a)return v.repeat(t,1);if(typeof t==s)return new v((function(){var e=0;return new m(u.Blank,(function(){return e<t.length&&this.yieldReturn(t.charAt(e++))}),u.Blank)}));if(typeof t!=h){if(typeof t.length==c)return new E(t);if("undefined"!=typeof Symbol&&void 0!==t[Symbol.iterator])return new v((function(){return new m(u.Blank,(function(){var e=t.next();return!e.done&&this.yieldReturn(e.value)}),u.Blank)}));if(!(t instanceof Object)&&d.isIEnumerable(t))return new v((function(){var e,n=!0;return new m((function(){e=new Enumerator(t)}),(function(){return n?n=!1:e.moveNext(),!e.atEnd()&&this.yieldReturn(e.item())}),u.Blank)}));if(typeof Windows===f&&typeof t.first===h)return new v((function(){var e,n=!0;return new m((function(){e=t.first()}),(function(){return n?n=!1:e.moveNext(),e.hasCurrent?this.yieldReturn(e.current):this.yieldBreak()}),u.Blank)}))}return new v((function(){var e=[],n=0;return new m((function(){for(var n in t){var r=t[n];r instanceof Function||!Object.prototype.hasOwnProperty.call(t,n)||e.push({key:n,value:r})}}),(function(){return n<e.length&&this.yieldReturn(e[n++])}),u.Blank)}))},v.make=function(t){return v.repeat(t,1)},v.matches=function(t,e,n){return null==n&&(n=""),e instanceof RegExp&&(n+=e.ignoreCase?"i":"",n+=e.multiline?"m":"",e=e.source),-1===n.indexOf("g")&&(n+="g"),new v((function(){var r;return new m((function(){r=new RegExp(e,n)}),(function(){var e=r.exec(t);return!!e&&this.yieldReturn(e)}),u.Blank)}))},v.range=function(t,e,n){return null==n&&(n=1),new v((function(){var r,o=0;return new m((function(){r=t-n}),(function(){return o++<e?this.yieldReturn(r+=n):this.yieldBreak()}),u.Blank)}))},v.rangeDown=function(t,e,n){return null==n&&(n=1),new v((function(){var r,o=0;return new m((function(){r=t+n}),(function(){return o++<e?this.yieldReturn(r-=n):this.yieldBreak()}),u.Blank)}))},v.rangeTo=function(t,e,n){return null==n&&(n=1),new v(t<e?function(){var r;return new m((function(){r=t-n}),(function(){var t=r+=n;return t<=e?this.yieldReturn(t):this.yieldBreak()}),u.Blank)}:function(){var r;return new m((function(){r=t+n}),(function(){var t=r-=n;return t>=e?this.yieldReturn(t):this.yieldBreak()}),u.Blank)})},v.repeat=function(t,e){return null!=e?v.repeat(t).take(e):new v((function(){return new m(u.Blank,(function(){return this.yieldReturn(t)}),u.Blank)}))},v.repeatWithFinalize=function(t,e){return t=d.createLambda(t),e=d.createLambda(e),new v((function(){var n;return new m((function(){n=t()}),(function(){return this.yieldReturn(n)}),(function(){null!=n&&(e(n),n=null)}))}))},v.generate=function(t,e){return null!=e?v.generate(t).take(e):(t=d.createLambda(t),new v((function(){return new m(u.Blank,(function(){return this.yieldReturn(t())}),u.Blank)})))},v.toInfinity=function(t,e){return null==t&&(t=0),null==e&&(e=1),new v((function(){var n;return new m((function(){n=t-e}),(function(){return this.yieldReturn(n+=e)}),u.Blank)}))},v.toNegativeInfinity=function(t,e){return null==t&&(t=0),null==e&&(e=1),new v((function(){var n;return new m((function(){n=t+e}),(function(){return this.yieldReturn(n-=e)}),u.Blank)}))},v.unfold=function(t,e){return e=d.createLambda(e),new v((function(){var n,r=!0;return new m(u.Blank,(function(){return r?(r=!1,n=t,this.yieldReturn(n)):(n=e(n),this.yieldReturn(n))}),u.Blank)}))},v.defer=function(t){return new v((function(){var e;return new m((function(){e=v.from(t()).getEnumerator()}),(function(){return e.moveNext()?this.yieldReturn(e.current()):this.yieldBreak()}),(function(){d.dispose(e)}))}))},v.prototype.traverseBreadthFirst=function(t,e){var n=this;return t=d.createLambda(t),e=d.createLambda(e),new v((function(){var r,o=0,i=[];return new m((function(){r=n.getEnumerator()}),(function(){for(;;){if(r.moveNext())return i.push(r.current()),this.yieldReturn(e(r.current(),o));var n=v.from(i).selectMany((function(e){return t(e)}));if(!n.any())return!1;o++,i=[],d.dispose(r),r=n.getEnumerator()}}),(function(){d.dispose(r)}))}))},v.prototype.traverseDepthFirst=function(t,e){var n=this;return t=d.createLambda(t),e=d.createLambda(e),new v((function(){var r,o=[];return new m((function(){r=n.getEnumerator()}),(function(){for(;;){if(r.moveNext()){var n=e(r.current(),o.length);return o.push(r),r=v.from(t(r.current())).getEnumerator(),this.yieldReturn(n)}if(o.length<=0)return!1;d.dispose(r),r=o.pop()}}),(function(){try{d.dispose(r)}finally{v.from(o).forEach((function(t){t.dispose()}))}}))}))},v.prototype.flatten=function(){var t=this;return new v((function(){var e,n=null;return new m((function(){e=t.getEnumerator()}),(function(){for(;;){if(null!=n){if(n.moveNext())return this.yieldReturn(n.current());n=null}if(e.moveNext()){if(e.current()instanceof Array){d.dispose(n),n=v.from(e.current()).selectMany(u.Identity).flatten().getEnumerator();continue}return this.yieldReturn(e.current())}return!1}}),(function(){try{d.dispose(e)}finally{d.dispose(n)}}))}))},v.prototype.pairwise=function(t){var e=this;return t=d.createLambda(t),new v((function(){var n;return new m((function(){(n=e.getEnumerator()).moveNext()}),(function(){var e=n.current();return!!n.moveNext()&&this.yieldReturn(t(e,n.current()))}),(function(){d.dispose(n)}))}))},v.prototype.scan=function(t,e){var n;null==e?(e=d.createLambda(t),n=!1):(e=d.createLambda(e),n=!0);var r=this;return new v((function(){var o,i,u=!0;return new m((function(){o=r.getEnumerator()}),(function(){if(u){if(u=!1,n)return this.yieldReturn(i=t);if(o.moveNext())return this.yieldReturn(i=o.current())}return!!o.moveNext()&&this.yieldReturn(i=e(i,o.current()))}),(function(){d.dispose(o)}))}))},v.prototype.select=function(t){if((t=d.createLambda(t)).length<=1)return new L(this,null,t);var e=this;return new v((function(){var n,r=0;return new m((function(){n=e.getEnumerator()}),(function(){return!!n.moveNext()&&this.yieldReturn(t(n.current(),r++))}),(function(){d.dispose(n)}))}))},v.prototype.selectMany=function(t,e){var n=this;return t=d.createLambda(t),null==e&&(e=function(t,e){return e}),e=d.createLambda(e),new v((function(){var r,o=i,u=0;return new m((function(){r=n.getEnumerator()}),(function(){if(o===i&&!r.moveNext())return!1;do{if(null==o){var n=t(r.current(),u++);o=v.from(n).getEnumerator()}if(o.moveNext())return this.yieldReturn(e(r.current(),o.current()));d.dispose(o),o=null}while(r.moveNext());return!1}),(function(){try{d.dispose(r)}finally{d.dispose(o)}}))}))},v.prototype.where=function(t){if((t=d.createLambda(t)).length<=1)return new C(this,t);var e=this;return new v((function(){var n,r=0;return new m((function(){n=e.getEnumerator()}),(function(){for(;n.moveNext();)if(t(n.current(),r++))return this.yieldReturn(n.current());return!1}),(function(){d.dispose(n)}))}))},v.prototype.choose=function(t){t=d.createLambda(t);var e=this;return new v((function(){var n,r=0;return new m((function(){n=e.getEnumerator()}),(function(){for(;n.moveNext();){var e=t(n.current(),r++);if(null!=e)return this.yieldReturn(e)}return this.yieldBreak()}),(function(){d.dispose(n)}))}))},v.prototype.ofType=function(t){var e;switch(t){case Number:e=c;break;case String:e=s;break;case Boolean:e=a;break;case Function:e=h;break;default:e=null}return null===e?this.where((function(e){return e instanceof t})):this.where((function(t){return typeof t===e}))},v.prototype.zip=function(){var t=arguments,e=d.createLambda(arguments[arguments.length-1]),n=this;if(2==arguments.length){var r=arguments[0];return new v((function(){var t,o,i=0;return new m((function(){t=n.getEnumerator(),o=v.from(r).getEnumerator()}),(function(){return!(!t.moveNext()||!o.moveNext())&&this.yieldReturn(e(t.current(),o.current(),i++))}),(function(){try{d.dispose(t)}finally{d.dispose(o)}}))}))}return new v((function(){var r,o=0;return new m((function(){var e=v.make(n).concat(v.from(t).takeExceptLast().select(v.from)).select((function(t){return t.getEnumerator()})).toArray();r=v.from(e)}),(function(){if(r.all((function(t){return t.moveNext()}))){var t=r.select((function(t){return t.current()})).toArray();return t.push(o++),this.yieldReturn(e.apply(null,t))}return this.yieldBreak()}),(function(){v.from(r).forEach(d.dispose)}))}))},v.prototype.merge=function(){var t=arguments,e=this;return new v((function(){var n,r=-1;return new m((function(){n=v.make(e).concat(v.from(t).select(v.from)).select((function(t){return t.getEnumerator()})).toArray()}),(function(){for(;n.length>0;){r=r>=n.length-1?0:r+1;var t=n[r];if(t.moveNext())return this.yieldReturn(t.current());t.dispose(),n.splice(r--,1)}return this.yieldBreak()}),(function(){v.from(n).forEach(d.dispose)}))}))},v.prototype.join=function(t,e,n,r,o){e=d.createLambda(e),n=d.createLambda(n),r=d.createLambda(r),o=d.createLambda(o);var a=this;return new v((function(){var c,s,f=null,l=0;return new m((function(){c=a.getEnumerator(),s=v.from(t).toLookup(n,u.Identity,o)}),(function(){for(;;){if(null!=f){var t=f[l++];if(t!==i)return this.yieldReturn(r(c.current(),t));t=null,l=0}if(!c.moveNext())return!1;var n=e(c.current());f=s.get(n).toArray()}}),(function(){d.dispose(c)}))}))},v.prototype.groupJoin=function(t,e,n,r,o){e=d.createLambda(e),n=d.createLambda(n),r=d.createLambda(r),o=d.createLambda(o);var i=this;return new v((function(){var a=i.getEnumerator(),c=null;return new m((function(){a=i.getEnumerator(),c=v.from(t).toLookup(n,u.Identity,o)}),(function(){if(a.moveNext()){var t=c.get(e(a.current()));return this.yieldReturn(r(a.current(),t))}return!1}),(function(){d.dispose(a)}))}))},v.prototype.all=function(t){t=d.createLambda(t);var e=!0;return this.forEach((function(n){if(!t(n))return e=!1,!1})),e},v.prototype.any=function(t){t=d.createLambda(t);var e=this.getEnumerator();try{if(0==arguments.length)return e.moveNext();for(;e.moveNext();)if(t(e.current()))return!0;return!1}finally{d.dispose(e)}},v.prototype.isEmpty=function(){return!this.any()},v.prototype.concat=function(){var t=this;if(1==arguments.length){var e=arguments[0];return new v((function(){var n,r;return new m((function(){n=t.getEnumerator()}),(function(){if(null==r){if(n.moveNext())return this.yieldReturn(n.current());r=v.from(e).getEnumerator()}return!!r.moveNext()&&this.yieldReturn(r.current())}),(function(){try{d.dispose(n)}finally{d.dispose(r)}}))}))}var n=arguments;return new v((function(){var e;return new m((function(){e=v.make(t).concat(v.from(n).select(v.from)).select((function(t){return t.getEnumerator()})).toArray()}),(function(){for(;e.length>0;){var t=e[0];if(t.moveNext())return this.yieldReturn(t.current());t.dispose(),e.splice(0,1)}return this.yieldBreak()}),(function(){v.from(e).forEach(d.dispose)}))}))},v.prototype.insert=function(t,e){var n=this;return new v((function(){var r,o,i=0,u=!1;return new m((function(){r=n.getEnumerator(),o=v.from(e).getEnumerator()}),(function(){return i==t&&o.moveNext()?(u=!0,this.yieldReturn(o.current())):r.moveNext()?(i++,this.yieldReturn(r.current())):!(u||!o.moveNext())&&this.yieldReturn(o.current())}),(function(){try{d.dispose(r)}finally{d.dispose(o)}}))}))},v.prototype.alternate=function(t){var e=this;return new v((function(){var n,r,o,i;return new m((function(){o=t instanceof Array||null!=t.getEnumerator?v.from(v.from(t).toArray()):v.make(t),(r=e.getEnumerator()).moveNext()&&(n=r.current())}),(function(){for(;;){if(null!=i){if(i.moveNext())return this.yieldReturn(i.current());i=null}if(null!=n||!r.moveNext()){if(null!=n){var t=n;return n=null,this.yieldReturn(t)}return this.yieldBreak()}n=r.current(),i=o.getEnumerator()}}),(function(){try{d.dispose(r)}finally{d.dispose(i)}}))}))},v.prototype.contains=function(t,e){e=d.createLambda(e);var n=this.getEnumerator();try{for(;n.moveNext();)if(e(n.current())===t)return!0;return!1}finally{d.dispose(n)}},v.prototype.defaultIfEmpty=function(t){var e=this;return t===i&&(t=null),new v((function(){var n,r=!0;return new m((function(){n=e.getEnumerator()}),(function(){return n.moveNext()?(r=!1,this.yieldReturn(n.current())):!!r&&(r=!1,this.yieldReturn(t))}),(function(){d.dispose(n)}))}))},v.prototype.distinct=function(t){return this.except(v.empty(),t)},v.prototype.distinctUntilChanged=function(t){t=d.createLambda(t);var e=this;return new v((function(){var n,r,o;return new m((function(){n=e.getEnumerator()}),(function(){for(;n.moveNext();){var e=t(n.current());if(o)return o=!1,r=e,this.yieldReturn(n.current());if(r!==e)return r=e,this.yieldReturn(n.current())}return this.yieldBreak()}),(function(){d.dispose(n)}))}))},v.prototype.except=function(t,e){e=d.createLambda(e);var n=this;return new v((function(){var r,o;return new m((function(){r=n.getEnumerator(),o=new x(e),v.from(t).forEach((function(t){o.add(t)}))}),(function(){for(;r.moveNext();){var t=r.current();if(!o.contains(t))return o.add(t),this.yieldReturn(t)}return!1}),(function(){d.dispose(r)}))}))},v.prototype.intersect=function(t,e){e=d.createLambda(e);var n=this;return new v((function(){var r,o,i;return new m((function(){r=n.getEnumerator(),o=new x(e),v.from(t).forEach((function(t){o.add(t)})),i=new x(e)}),(function(){for(;r.moveNext();){var t=r.current();if(!i.contains(t)&&o.contains(t))return i.add(t),this.yieldReturn(t)}return!1}),(function(){d.dispose(r)}))}))},v.prototype.sequenceEqual=function(t,e){e=d.createLambda(e);var n=this.getEnumerator();try{var r=v.from(t).getEnumerator();try{for(;n.moveNext();)if(!r.moveNext()||e(n.current())!==e(r.current()))return!1;return!r.moveNext()}finally{d.dispose(r)}}finally{d.dispose(n)}},v.prototype.union=function(t,e){e=d.createLambda(e);var n=this;return new v((function(){var r,o,u;return new m((function(){r=n.getEnumerator(),u=new x(e)}),(function(){var e;if(o===i){for(;r.moveNext();)if(e=r.current(),!u.contains(e))return u.add(e),this.yieldReturn(e);o=v.from(t).getEnumerator()}for(;o.moveNext();)if(e=o.current(),!u.contains(e))return u.add(e),this.yieldReturn(e);return!1}),(function(){try{d.dispose(r)}finally{d.dispose(o)}}))}))},v.prototype.orderBy=function(t,e){return new g(this,t,e,!1)},v.prototype.orderByDescending=function(t,e){return new g(this,t,e,!0)},v.prototype.reverse=function(){var t=this;return new v((function(){var e,n;return new m((function(){e=t.toArray(),n=e.length}),(function(){return n>0&&this.yieldReturn(e[--n])}),u.Blank)}))},v.prototype.shuffle=function(){var t=this;return new v((function(){var e;return new m((function(){e=t.toArray()}),(function(){if(e.length>0){var t=Math.floor(Math.random()*e.length);return this.yieldReturn(e.splice(t,1)[0])}return!1}),u.Blank)}))},v.prototype.weightedSample=function(t){t=d.createLambda(t);var e=this;return new v((function(){var n,r=0;return new m((function(){n=e.choose((function(e){var n=t(e);return n<=0?null:{value:e,bound:r+=n}})).toArray()}),(function(){if(n.length>0){for(var t=Math.floor(Math.random()*r)+1,e=-1,o=n.length;o-e>1;){var i=Math.floor((e+o)/2);n[i].bound>=t?o=i:e=i}return this.yieldReturn(n[o].value)}return this.yieldBreak()}),u.Blank)}))},v.prototype.groupBy=function(t,e,n,r){var o=this;return t=d.createLambda(t),e=d.createLambda(e),null!=n&&(n=d.createLambda(n)),r=d.createLambda(r),new v((function(){var i;return new m((function(){i=o.toLookup(t,e,r).toEnumerable().getEnumerator()}),(function(){for(;i.moveNext();)return null==n?this.yieldReturn(i.current()):this.yieldReturn(n(i.current().key(),i.current()));return!1}),(function(){d.dispose(i)}))}))},v.prototype.partitionBy=function(t,e,n,r){var o,i=this;return t=d.createLambda(t),e=d.createLambda(e),r=d.createLambda(r),null==n?(o=!1,n=function(t,e){return new N(t,e)}):(o=!0,n=d.createLambda(n)),new v((function(){var u,a,c,s=[];return new m((function(){(u=i.getEnumerator()).moveNext()&&(a=t(u.current()),c=r(a),s.push(e(u.current())))}),(function(){for(var i;1==(i=u.moveNext())&&c===r(t(u.current()));)s.push(e(u.current()));if(s.length>0){var f=n(a,o?v.from(s):s);return i?(a=t(u.current()),c=r(a),s=[e(u.current())]):s=[],this.yieldReturn(f)}return!1}),(function(){d.dispose(u)}))}))},v.prototype.buffer=function(t){var e=this;return new v((function(){var n;return new m((function(){n=e.getEnumerator()}),(function(){for(var e=[],r=0;n.moveNext();)if(e.push(n.current()),++r>=t)return this.yieldReturn(e);return e.length>0&&this.yieldReturn(e)}),(function(){d.dispose(n)}))}))},v.prototype.aggregate=function(t,e,n){return(n=d.createLambda(n))(this.scan(t,e,n).last())},v.prototype.average=function(t){t=d.createLambda(t);var e=0,n=0;return this.forEach((function(r){e+=t(r),++n})),e/n},v.prototype.count=function(t){t=null==t?u.True:d.createLambda(t);var e=0;return this.forEach((function(n,r){t(n,r)&&++e})),e},v.prototype.max=function(t){return null==t&&(t=u.Identity),this.select(t).aggregate((function(t,e){return t>e?t:e}))},v.prototype.min=function(t){return null==t&&(t=u.Identity),this.select(t).aggregate((function(t,e){return t<e?t:e}))},v.prototype.maxBy=function(t){return t=d.createLambda(t),this.aggregate((function(e,n){return t(e)>t(n)?e:n}))},v.prototype.minBy=function(t){return t=d.createLambda(t),this.aggregate((function(e,n){return t(e)<t(n)?e:n}))},v.prototype.sum=function(t){return null==t&&(t=u.Identity),this.select(t).aggregate(0,(function(t,e){return t+e}))},v.prototype.elementAt=function(t){var e,n=!1;if(this.forEach((function(r,o){if(o==t)return e=r,n=!0,!1})),!n)throw new Error("index is less than 0 or greater than or equal to the number of elements in source.");return e},v.prototype.elementAtOrDefault=function(t,e){var n;e===i&&(e=null);var r=!1;return this.forEach((function(e,o){if(o==t)return n=e,r=!0,!1})),r?n:e},v.prototype.first=function(t){if(null!=t)return this.where(t).first();var e,n=!1;if(this.forEach((function(t){return e=t,n=!0,!1})),!n)throw new Error("first:No element satisfies the condition.");return e},v.prototype.firstOrDefault=function(t,e){if(t!==i){if(typeof t===h||typeof d.createLambda(t)===h)return this.where(t).firstOrDefault(i,e);e=t}var n,r=!1;return this.forEach((function(t){return n=t,r=!0,!1})),r?n:e},v.prototype.last=function(t){if(null!=t)return this.where(t).last();var e,n=!1;if(this.forEach((function(t){n=!0,e=t})),!n)throw new Error("last:No element satisfies the condition.");return e},v.prototype.lastOrDefault=function(t,e){if(t!==i){if(typeof t===h||typeof d.createLambda(t)===h)return this.where(t).lastOrDefault(i,e);e=t}var n,r=!1;return this.forEach((function(t){r=!0,n=t})),r?n:e},v.prototype.single=function(t){if(null!=t)return this.where(t).single();var e,n=!1;if(this.forEach((function(t){if(n)throw new Error("single:sequence contains more than one element.");n=!0,e=t})),!n)throw new Error("single:No element satisfies the condition.");return e},v.prototype.singleOrDefault=function(t,e){if(e===i&&(e=null),null!=t)return this.where(t).singleOrDefault(null,e);var n,r=!1;return this.forEach((function(t){if(r)throw new Error("single:sequence contains more than one element.");r=!0,n=t})),r?n:e},v.prototype.skip=function(t){var e=this;return new v((function(){var n,r=0;return new m((function(){for(n=e.getEnumerator();r++<t&&n.moveNext(););}),(function(){return!!n.moveNext()&&this.yieldReturn(n.current())}),(function(){d.dispose(n)}))}))},v.prototype.skipWhile=function(t){t=d.createLambda(t);var e=this;return new v((function(){var n,r=0,o=!1;return new m((function(){n=e.getEnumerator()}),(function(){for(;!o;){if(!n.moveNext())return!1;if(!t(n.current(),r++))return o=!0,this.yieldReturn(n.current())}return!!n.moveNext()&&this.yieldReturn(n.current())}),(function(){d.dispose(n)}))}))},v.prototype.take=function(t){var e=this;return new v((function(){var n,r=0;return new m((function(){n=e.getEnumerator()}),(function(){return!!(r++<t&&n.moveNext())&&this.yieldReturn(n.current())}),(function(){d.dispose(n)}))}))},v.prototype.takeWhile=function(t){t=d.createLambda(t);var e=this;return new v((function(){var n,r=0;return new m((function(){n=e.getEnumerator()}),(function(){return!(!n.moveNext()||!t(n.current(),r++))&&this.yieldReturn(n.current())}),(function(){d.dispose(n)}))}))},v.prototype.takeExceptLast=function(t){null==t&&(t=1);var e=this;return new v((function(){if(t<=0)return e.getEnumerator();var n,r=[];return new m((function(){n=e.getEnumerator()}),(function(){for(;n.moveNext();){if(r.length==t)return r.push(n.current()),this.yieldReturn(r.shift());r.push(n.current())}return!1}),(function(){d.dispose(n)}))}))},v.prototype.takeFromLast=function(t){if(t<=0||null==t)return v.empty();var e=this;return new v((function(){var n,r,o=[];return new m((function(){n=e.getEnumerator()}),(function(){for(;n.moveNext();)o.length==t&&o.shift(),o.push(n.current());return null==r&&(r=v.from(o).getEnumerator()),!!r.moveNext()&&this.yieldReturn(r.current())}),(function(){d.dispose(r)}))}))},v.prototype.indexOf=function(t){var e=null;return typeof t===h?this.forEach((function(n,r){if(t(n,r))return e=r,!1})):this.forEach((function(n,r){if(n===t)return e=r,!1})),null!==e?e:-1},v.prototype.lastIndexOf=function(t){var e=-1;return typeof t===h?this.forEach((function(n,r){t(n,r)&&(e=r)})):this.forEach((function(n,r){n===t&&(e=r)})),e},v.prototype.cast=function(){return this},v.prototype.asEnumerable=function(){return v.from(this)},v.prototype.toArray=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},v.prototype.toLookup=function(t,e,n){t=d.createLambda(t),e=d.createLambda(e),n=d.createLambda(n);var r=new x(n);return this.forEach((function(n){var o=t(n),u=e(n),a=r.get(o);a!==i?a.push(u):r.add(o,[u])})),new k(r)},v.prototype.toObject=function(t,e){t=d.createLambda(t),e=d.createLambda(e);var n={};return this.forEach((function(r){n[t(r)]=e(r)})),n},v.prototype.toDictionary=function(t,e,n){t=d.createLambda(t),e=d.createLambda(e),n=d.createLambda(n);var r=new x(n);return this.forEach((function(n){r.add(t(n),e(n))})),r},v.prototype.toJSONString=function(t,e){if(typeof JSON===l||null==JSON.stringify)throw new Error("toJSONString can't find JSON.stringify. This works native JSON support Browser or include json2.js");return JSON.stringify(this.toArray(),t,e)},v.prototype.toJoinedString=function(t,e){return null==t&&(t=""),null==e&&(e=u.Identity),this.select(e).toArray().join(t)},v.prototype.doAction=function(t){var e=this;return t=d.createLambda(t),new v((function(){var n,r=0;return new m((function(){n=e.getEnumerator()}),(function(){return!!n.moveNext()&&(t(n.current(),r++),this.yieldReturn(n.current()))}),(function(){d.dispose(n)}))}))},v.prototype.forEach=function(t){t=d.createLambda(t);var e=0,n=this.getEnumerator();try{for(;n.moveNext()&&!1!==t(n.current(),e++););}finally{d.dispose(n)}},v.prototype.write=function(t,e){null==t&&(t=""),e=d.createLambda(e);var n=!0;this.forEach((function(r){n?n=!1:document.write(t),document.write(e(r))}))},v.prototype.writeLine=function(t){t=d.createLambda(t),this.forEach((function(e){document.writeln(t(e)+"<br />")}))},v.prototype.force=function(){var t=this.getEnumerator();try{for(;t.moveNext(););}finally{d.dispose(t)}},v.prototype.letBind=function(t){t=d.createLambda(t);var e=this;return new v((function(){var n;return new m((function(){n=v.from(t(e)).getEnumerator()}),(function(){return!!n.moveNext()&&this.yieldReturn(n.current())}),(function(){d.dispose(n)}))}))},v.prototype.share=function(){var t,e=this,n=!1;return new b((function(){return new m((function(){null==t&&(t=e.getEnumerator())}),(function(){if(n)throw new Error("enumerator is disposed");return!!t.moveNext()&&this.yieldReturn(t.current())}),u.Blank)}),(function(){n=!0,d.dispose(t)}))},v.prototype.memoize=function(){var t,e,n=this,r=!1;return new b((function(){var o=-1;return new m((function(){null==e&&(e=n.getEnumerator(),t=[])}),(function(){if(r)throw new Error("enumerator is disposed");return o++,t.length<=o?!!e.moveNext()&&this.yieldReturn(t[o]=e.current()):this.yieldReturn(t[o])}),u.Blank)}),(function(){r=!0,d.dispose(e),t=null}))},d.hasNativeIteratorSupport()&&(v.prototype[Symbol.iterator]=function(){return{enumerator:this.getEnumerator(),next:function(){return this.enumerator.moveNext()?{done:!1,value:this.enumerator.current()}:{done:!0}}}}),v.prototype.catchError=function(t){t=d.createLambda(t);var e=this;return new v((function(){var n;return new m((function(){n=e.getEnumerator()}),(function(){try{return!!n.moveNext()&&this.yieldReturn(n.current())}catch(e){return t(e),!1}}),(function(){d.dispose(n)}))}))},v.prototype.finallyAction=function(t){t=d.createLambda(t);var e=this;return new v((function(){var n;return new m((function(){n=e.getEnumerator()}),(function(){return!!n.moveNext()&&this.yieldReturn(n.current())}),(function(){try{d.dispose(n)}finally{t()}}))}))},v.prototype.log=function(t){return t=d.createLambda(t),this.doAction((function(e){typeof console!==l&&console.log(t(e))}))},v.prototype.trace=function(t,e){return null==t&&(t="Trace"),e=d.createLambda(e),this.doAction((function(n){typeof console!==l&&console.log(t,e(n))}))};var g=function(t,e,n,r,o){this.source=t,this.keySelector=d.createLambda(e),this.descending=r,this.parent=o,n&&(this.comparer=d.createLambda(n))};g.prototype=new v,g.prototype.createOrderedEnumerable=function(t,e,n){return new g(this.source,t,e,n,this)},g.prototype.thenBy=function(t,e){return this.createOrderedEnumerable(t,e,!1)},g.prototype.thenByDescending=function(t,e){return this.createOrderedEnumerable(t,e,!0)},g.prototype.getEnumerator=function(){var t,e,n=this,r=0;return new m((function(){t=[],e=[],n.source.forEach((function(n,r){t.push(n),e.push(r)}));var r=w.create(n,null);r.GenerateKeys(t),e.sort((function(t,e){return r.compare(t,e)}))}),(function(){return r<e.length&&this.yieldReturn(t[e[r++]])}),u.Blank)};var w=function(t,e,n,r){this.keySelector=t,this.descending=n,this.child=r,this.comparer=e,this.keys=null};w.create=function(t,e){var n=new w(t.keySelector,t.comparer,t.descending,e);return null!=t.parent?w.create(t.parent,n):n},w.prototype.GenerateKeys=function(t){for(var e=t.length,n=this.keySelector,r=new Array(e),o=0;o<e;o++)r[o]=n(t[o]);this.keys=r,null!=this.child&&this.child.GenerateKeys(t)},w.prototype.compare=function(t,e){var n=this.comparer?this.comparer(this.keys[t],this.keys[e]):d.compare(this.keys[t],this.keys[e]);return 0==n?null!=this.child?this.child.compare(t,e):d.compare(t,e):this.descending?-n:n};var b=function(t,e){this.dispose=e,v.call(this,t)};b.prototype=new v;var E=function(t){this.getSource=function(){return t}};E.prototype=new v,E.prototype.any=function(t){return null==t?this.getSource().length>0:v.prototype.any.apply(this,arguments)},E.prototype.count=function(t){return null==t?this.getSource().length:v.prototype.count.apply(this,arguments)},E.prototype.elementAt=function(t){var e=this.getSource();return 0<=t&&t<e.length?e[t]:v.prototype.elementAt.apply(this,arguments)},E.prototype.elementAtOrDefault=function(t,e){e===i&&(e=null);var n=this.getSource();return 0<=t&&t<n.length?n[t]:e},E.prototype.first=function(t){var e=this.getSource();return null==t&&e.length>0?e[0]:v.prototype.first.apply(this,arguments)},E.prototype.firstOrDefault=function(t,e){if(t!==i)return v.prototype.firstOrDefault.apply(this,arguments);e=t;var n=this.getSource();return n.length>0?n[0]:e},E.prototype.last=function(t){var e=this.getSource();return null==t&&e.length>0?e[e.length-1]:v.prototype.last.apply(this,arguments)},E.prototype.lastOrDefault=function(t,e){if(t!==i)return v.prototype.lastOrDefault.apply(this,arguments);e=t;var n=this.getSource();return n.length>0?n[n.length-1]:e},E.prototype.skip=function(t){var e=this.getSource();return new v((function(){var n;return new m((function(){n=t<0?0:t}),(function(){return n<e.length&&this.yieldReturn(e[n++])}),u.Blank)}))},E.prototype.takeExceptLast=function(t){return null==t&&(t=1),this.take(this.getSource().length-t)},E.prototype.takeFromLast=function(t){return this.skip(this.getSource().length-t)},E.prototype.reverse=function(){var t=this.getSource();return new v((function(){var e;return new m((function(){e=t.length}),(function(){return e>0&&this.yieldReturn(t[--e])}),u.Blank)}))},E.prototype.sequenceEqual=function(t,e){return(!(t instanceof E||t instanceof Array)||null!=e||v.from(t).count()==this.count())&&v.prototype.sequenceEqual.apply(this,arguments)},E.prototype.toJoinedString=function(t,e){var n=this.getSource();return null==e&&n instanceof Array?(null==t&&(t=""),n.join(t)):v.prototype.toJoinedString.apply(this,arguments)},E.prototype.getEnumerator=function(){var t=this.getSource(),e=-1;return{current:function(){return t[e]},moveNext:function(){return++e<t.length},dispose:u.Blank}};var C=function(t,e){this.prevSource=t,this.prevPredicate=e};C.prototype=new v,C.prototype.where=function(t){if((t=d.createLambda(t)).length<=1){var e=this.prevPredicate;return new C(this.prevSource,(function(n){return e(n)&&t(n)}))}return v.prototype.where.call(this,t)},C.prototype.select=function(t){return(t=d.createLambda(t)).length<=1?new L(this.prevSource,this.prevPredicate,t):v.prototype.select.call(this,t)},C.prototype.getEnumerator=function(){var t,e=this.prevPredicate,n=this.prevSource;return new m((function(){t=n.getEnumerator()}),(function(){for(;t.moveNext();)if(e(t.current()))return this.yieldReturn(t.current());return!1}),(function(){d.dispose(t)}))};var L=function(t,e,n){this.prevSource=t,this.prevPredicate=e,this.prevSelector=n};L.prototype=new v,L.prototype.where=function(t){return(t=d.createLambda(t)).length<=1?new C(this,t):v.prototype.where.call(this,t)},L.prototype.select=function(t){if((t=d.createLambda(t)).length<=1){var e=this.prevSelector;return new L(this.prevSource,this.prevPredicate,(function(n){return t(e(n))}))}return v.prototype.select.call(this,t)},L.prototype.getEnumerator=function(){var t,e=this.prevPredicate,n=this.prevSelector,r=this.prevSource;return new m((function(){t=r.getEnumerator()}),(function(){for(;t.moveNext();)if(null==e||e(t.current()))return this.yieldReturn(n(t.current()));return!1}),(function(){d.dispose(t)}))};var x=function(){var t=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e=function(t){return null===t?"null":t===i?"undefined":typeof t.toString===h?t.toString():Object.prototype.toString.call(t)},n=function(t,e){this.key=t,this.value=e,this.prev=null,this.next=null},r=function(){this.first=null,this.last=null};r.prototype={addLast:function(t){null!=this.last?(this.last.next=t,t.prev=this.last,this.last=t):this.first=this.last=t},replace:function(t,e){null!=t.prev?(t.prev.next=e,e.prev=t.prev):this.first=e,null!=t.next?(t.next.prev=e,e.next=t.next):this.last=e},remove:function(t){null!=t.prev?t.prev.next=t.next:this.first=t.next,null!=t.next?t.next.prev=t.prev:this.last=t.prev}};var o=function(t){this.countField=0,this.entryList=new r,this.buckets={},this.compareSelector=null==t?u.Identity:t};return o.prototype={add:function(r,o){var i=this.compareSelector(r),u=e(i),a=new n(r,o);if(t(this.buckets,u)){for(var c=this.buckets[u],s=0;s<c.length;s++)if(this.compareSelector(c[s].key)===i)return this.entryList.replace(c[s],a),void(c[s]=a);c.push(a)}else this.buckets[u]=[a];this.countField++,this.entryList.addLast(a)},get:function(n){var r=this.compareSelector(n),o=e(r);if(!t(this.buckets,o))return i;for(var u=this.buckets[o],a=0;a<u.length;a++){var c=u[a];if(this.compareSelector(c.key)===r)return c.value}return i},set:function(r,o){var i=this.compareSelector(r),u=e(i);if(t(this.buckets,u))for(var a=this.buckets[u],c=0;c<a.length;c++)if(this.compareSelector(a[c].key)===i){var s=new n(r,o);return this.entryList.replace(a[c],s),a[c]=s,!0}return!1},contains:function(n){var r=this.compareSelector(n),o=e(r);if(!t(this.buckets,o))return!1;for(var i=this.buckets[o],u=0;u<i.length;u++)if(this.compareSelector(i[u].key)===r)return!0;return!1},clear:function(){this.countField=0,this.buckets={},this.entryList=new r},remove:function(n){var r=this.compareSelector(n),o=e(r);if(t(this.buckets,o))for(var i=this.buckets[o],u=0;u<i.length;u++)if(this.compareSelector(i[u].key)===r)return this.entryList.remove(i[u]),i.splice(u,1),0==i.length&&delete this.buckets[o],void this.countField--},count:function(){return this.countField},toEnumerable:function(){var t=this;return new v((function(){var e;return new m((function(){e=t.entryList.first}),(function(){if(null!=e){var t={key:e.key,value:e.value};return e=e.next,this.yieldReturn(t)}return!1}),u.Blank)}))}},o}(),k=function(t){this.count=function(){return t.count()},this.get=function(e){return v.from(t.get(e))},this.contains=function(e){return t.contains(e)},this.toEnumerable=function(){return t.toEnumerable().select((function(t){return new N(t.key,t.value)}))}},N=function(t,e){this.key=function(){return t},E.call(this,e)};N.prototype=new E,n.amdO?(r=function(){return v}.apply(e,[]))===i||(t.exports=r):t.exports?t.exports=v:o.Enumerable=v}(this)},659:(t,e,n)=>{"use strict";n.r(e)},752:(t,e,n)=>{"use strict";var r=n(514);n(659),window.onload=function(){(new r.MemoryWeakness).init(),document.addEventListener("dblclick",(function(t){return t.preventDefault()}),{passive:!1});var t="object"==typeof window.ontouchstart?"タップ":"クリック";document.getElementById("subtitleArea").textContent="カードをめくるときはダブル"+t+"！！"},document.addEventListener("selectstart",(function(t){return t.preventDefault()})),document.addEventListener("touchstart",(function(t){return t.preventDefault()}))},309:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Constant=void 0;var n=function(){function t(){}return Object.defineProperty(t,"SelectableNumber",{get:function(){return 2},enumerable:!1,configurable:!0}),Object.defineProperty(t,"MaxPair",{get:function(){return 10},enumerable:!1,configurable:!0}),Object.defineProperty(t,"JokerNumber",{get:function(){return 14},enumerable:!1,configurable:!0}),Object.defineProperty(t,"JokerType",{get:function(){return 4},enumerable:!1,configurable:!0}),Object.defineProperty(t,"StartCardNumber",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(t,"EndCardNumber",{get:function(){return 14},enumerable:!1,configurable:!0}),Object.defineProperty(t,"ImageFolderPath",{get:function(){return"./images/"},enumerable:!1,configurable:!0}),Object.defineProperty(t,"ImageExtension",{get:function(){return".gif"},enumerable:!1,configurable:!0}),Object.defineProperty(t,"DefaultCardFileName",{get:function(){return"z02"},enumerable:!1,configurable:!0}),Object.defineProperty(t,"LifeImageFileName",{get:function(){return"lifeImage.png"},enumerable:!1,configurable:!0}),Object.defineProperty(t,"MaxMissNumber",{get:function(){return 7},enumerable:!1,configurable:!0}),Object.defineProperty(t,"LifeImageClassName",{get:function(){return"lifeImage"},enumerable:!1,configurable:!0}),Object.defineProperty(t,"CardTypeList",{get:function(){return[{key:"Spade",value:"s"},{key:"Heart",value:"h"},{key:"Diamond",value:"d"},{key:"Club",value:"c"},{key:"Joker",value:"x"}]},enumerable:!1,configurable:!0}),Object.defineProperty(t,"HitClassName",{get:function(){return"hit"},enumerable:!1,configurable:!0}),Object.defineProperty(t,"MissClassName",{get:function(){return"miss"},enumerable:!1,configurable:!0}),Object.defineProperty(t,"GrayOutClassName",{get:function(){return"grayOut"},enumerable:!1,configurable:!0}),t}();e.Constant=n},514:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function u(t){try{c(r.next(t))}catch(t){i(t)}}function a(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(u,a)}c((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,r=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!((o=(o=u.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=e.call(t,u)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.MemoryWeakness=void 0;var u=n(309),a=i(n(255));e.MemoryWeakness=function(){var t=this;this.init=function(){t.cardList=[],t.selectCardCount=0,t.selectCardList=[],t.isSelectable=!0,t.isGameClear=!1,t.isGameOver=!1,t.pairCount=0,t.missCount=0;var e=u.Constant.ImageFolderPath+u.Constant.DefaultCardFileName+u.Constant.ImageExtension;t.cardImages.forEach((function(n){n.src=e,n.addEventListener("dblclick",t.selectCard)})),t.resetButton.addEventListener("click",t.resetGame),t.removeLifeImages(),t.addLifeImages(),t.removeGrayOut(),t.pairCountArea.textContent=t.createPairCountValue(0),t.missCountArea.textContent=t.createMissCountValue(0),t.messageArea.textContent=t.createStatusMessage(u.Constant.MaxMissNumber),t.shuffleCards()},this.selectCard=function(e){return r(t,void 0,void 0,(function(){var t,n,r,i;return o(this,(function(o){switch(o.label){case 0:return!this.isSelectable||this.isGameClear||this.isGameOver||null===(t=e.target)?[2]:(n=t,r=Number(n.dataset.cardNumber),1===this.selectCardCount&&this.selectCardList[0]===r?[2]:(n.src=this.createTrumpImagePath(r),this.selectCardList.push(r),this.selectCardCount++,this.selectCardCount!==u.Constant.SelectableNumber?[2]:(this.isSelectable=!1,(i=this.isPair())?(this.showResultMessage("当たり！",u.Constant.HitClassName),this.pairCount++,this.pairCountArea.textContent=this.createPairCountValue(this.pairCount)):(this.showResultMessage("はずれ…",u.Constant.MissClassName),this.missCount++,this.missCountArea.textContent=this.createMissCountValue(this.missCount),this.removeLife()),[4,this.sleep(1e3)])));case 1:return o.sent(),this.pairCount===u.Constant.MaxPair?(this.isGameClear=!0,this.messageArea.innerHTML="ゲームクリア！<br/>おめでとう！",this.messageArea.classList.remove(u.Constant.HitClassName),this.setCardDisabled(),[2]):this.missCount===u.Constant.MaxMissNumber?(this.isGameOver=!0,this.messageArea.textContent="ゲームオーバー",this.messageArea.classList.remove(u.Constant.MissClassName),this.flipAllCards(),[2]):(this.messageArea.classList.remove(u.Constant.HitClassName,u.Constant.MissClassName),this.messageArea.textContent=this.createStatusMessage(u.Constant.MaxMissNumber-this.missCount),this.isSelectable=!0,i?this.setCardDisabled():this.turnCardFaceDown(),this.selectCardCount=0,this.selectCardList=[],[2])}}))}))},this.resetGame=function(){0===t.pairCount&&0===t.missCount&&0===t.selectCardCount||(t.pairCount!==u.Constant.MaxPair&&t.missCount!==u.Constant.MaxMissNumber?window.confirm("まだプレイ中ですが、リセットしますか？")&&t.init():t.init())},this.shuffleCards=function(){var e=t.createNumberList(u.Constant.StartCardNumber,u.Constant.EndCardNumber),n=a.default.from(e).shuffle().toArray(),r=t.createPairList(n,u.Constant.MaxPair);t.cardList=a.default.from(r).shuffle().toArray()},this.createNumberList=function(t,e){return a.default.range(t,e).toArray()},this.createPairList=function(e,n){for(var r=u.Constant.CardTypeList,o=t.createNumberList(0,r.length-1),i=new Array,a=0;a<n;a++)for(var c=e[a],s=c===u.Constant.JokerNumber,f=t.shuffleCardTypes(o,s),l=0;l<2;l++){var h=f[l];i.push({type:h,value:c})}return i},this.shuffleCardTypes=function(e,n){if(n){var r=t.createNumberList(1,2);return a.default.from(r).shuffle().toArray()}return a.default.from(e).shuffle().toArray()},this.createTrumpImagePath=function(e){var n=t.cardList[e],r=n.value===u.Constant.JokerNumber,o=u.Constant.CardTypeList[r?u.Constant.JokerType:n.type].value+t.zeroPadding(r?n.type:n.value,2)+u.Constant.ImageExtension;return u.Constant.ImageFolderPath+o},this.addLifeImages=function(){for(var e=u.Constant.MaxMissNumber;e>0;e--){var n=document.createElement("img");n.id="life_"+e,n.classList.add(u.Constant.LifeImageClassName),n.src=u.Constant.ImageFolderPath+u.Constant.LifeImageFileName,t.lifeArea.appendChild(n)}},this.removeLifeImages=function(){document.querySelectorAll("."+u.Constant.LifeImageClassName).forEach((function(e){return t.lifeArea.removeChild(e)}))},this.removeLife=function(){document.getElementById("life_"+t.missCount).remove()},this.removeGrayOut=function(){document.querySelectorAll("."+u.Constant.GrayOutClassName).forEach((function(t){return t.classList.remove(u.Constant.GrayOutClassName)}))},this.isPair=function(){return t.cardList[t.selectCardList[0]].value===t.cardList[t.selectCardList[1]].value},this.showResultMessage=function(e,n){void 0===n&&(n=null),t.messageArea.textContent=e,null!==n&&t.messageArea.classList.add(n)},this.setCardDisabled=function(){for(var e=0,n=t.selectCardList;e<n.length;e++){var r=n[e],o=document.getElementById("card_"+(r+1));o.removeEventListener("dblclick",t.selectCard),o.classList.add(u.Constant.GrayOutClassName)}},this.turnCardFaceDown=function(){for(var e=u.Constant.ImageFolderPath+u.Constant.DefaultCardFileName+u.Constant.ImageExtension,n=0,r=t.selectCardList;n<r.length;n++){var o=r[n];document.getElementById("card_"+(o+1)).src=e}},this.flipAllCards=function(){document.querySelectorAll(".cardImage:not(."+u.Constant.GrayOutClassName+")").forEach((function(e){return e.src=t.createTrumpImagePath(Number(e.dataset.cardNumber))}))},this.createPairCountValue=function(t){return t+" ペア"},this.createMissCountValue=function(t){return t+" ミス"},this.createStatusMessage=function(t){return"あと "+t+" 回ミスできます。"},this.zeroPadding=function(t,e){return("0".repeat(e)+t).slice(-e)},this.sleep=function(t){return new Promise((function(e){return setTimeout(e,t)}))},this.cardList=[],this.selectCardCount=0,this.selectCardList=[],this.isSelectable=!0,this.isGameClear=!1,this.isGameOver=!1,this.pairCount=0,this.missCount=0,this.cardImages=document.querySelectorAll(".cardImage"),this.lifeArea=document.getElementById("lifeArea"),this.pairCountArea=document.getElementById("pairCountArea"),this.missCountArea=document.getElementById("missCountArea"),this.messageArea=document.getElementById("messageArea"),this.resetButton=document.getElementById("resetButton")}}},e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={exports:{}};return t[r].call(o.exports,o,o.exports,n),o.exports}n.amdO={},n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n(752)})();