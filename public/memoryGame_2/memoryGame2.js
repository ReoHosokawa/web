(()=>{"use strict";var t={255:(t,n,e)=>{e.r(n),e.d(n,{default:()=>k});var r={Identity:function(t){return t},True:function(){return!0},Blank:function(){}},o="boolean",u="number",i="string",c="undefined",a="function",f={"":r.Identity},l=function(t){if(null==t)return r.Identity;if(typeof t===i){let n=f[t];if(null!=n)return n;if(-1===t.indexOf("=>")){const e=new RegExp("[$]+","g");let r,o=0;for(;null!=(r=e.exec(t));)r[0].length>o&&(o=r[0].length);const u=[];for(let t=1;t<=o;t++){let n="";for(let e=0;e<t;e++)n+="$";u.push(n)}const i=u.join(",");return n=new Function(i,"return "+t),f[t]=n,n}{const e=t.match(/^[(\s]*([^()]*?)[)\s]*=>(.*)/);return n=new Function(e[1],e[2].match(/\breturn\b/)?e[2]:"return "+e[2]),f[t]=n,n}}return t},s=function(t,n,e){Object.defineProperty(t,n,{enumerable:!1,configurable:!0,writable:!0,value:e})},h=function(t,n){return t===n?0:t>n?1:-1},p=function(t){null!=t&&t.dispose()},y=function(t,n,e){var r=new d,o=0;this.current=r.current,this.moveNext=function(){try{switch(o){case 0:o=1,t();case 1:return!!n.apply(r)||(this.dispose(),!1);case 2:return!1}}catch(t){throw this.dispose(),t}},this.dispose=function(){if(1==o)try{e()}finally{o=2}}},d=function(){var t=null;this.current=function(){return t},this.yieldReturn=function(n){return t=n,!0},this.yieldBreak=function(){return!1}},v=function(t){this.getEnumerator=t};(v.Utils={}).createLambda=function(t){return l(t)},v.Utils.createEnumerable=function(t){return new v(t)},v.Utils.createEnumerator=function(t,n,e){return new y(t,n,e)},v.Utils.extendTo=function(t){var n,e=t.prototype;t===Array?(n=w.prototype,s(e,"getSource",(function(){return this}))):(n=v.prototype,s(e,"getEnumerator",(function(){return v.from(this).getEnumerator()})));for(let t in n){const r=n[t];e[t]!=r&&(null!=e[t]&&(t+="ByLinq",e[t]==r)||r instanceof Function&&s(e,t,r))}},v.Utils.recallFrom=function(t){var n,e=t.prototype;t===Array?(n=w.prototype,delete e.getSource):(n=v.prototype,delete e.getEnumerator);for(const t in n){const r=n[t];e[t+"ByLinq"]?delete e[t+"ByLinq"]:e[t]==r&&r instanceof Function&&delete e[t]}},v.choice=function(){var t=arguments;return new v((function(){return new y((function(){t=t[0]instanceof Array?t[0]:null!=t[0].getEnumerator?t[0].toArray():t}),(function(){return this.yieldReturn(t[Math.floor(Math.random()*t.length)])}),r.Blank)}))},v.cycle=function(){var t=arguments;return new v((function(){var n=0;return new y((function(){t=t[0]instanceof Array?t[0]:null!=t[0].getEnumerator?t[0].toArray():t}),(function(){return n>=t.length&&(n=0),this.yieldReturn(t[n++])}),r.Blank)}))},v.empty=function(){return new v((function(){return new y(r.Blank,(function(){return!1}),r.Blank)}))},v.from=function(t){if(null==t)return v.empty();if(t instanceof v)return t;if(typeof t==u||typeof t==o)return v.repeat(t,1);if(typeof t==i)return new v((function(){var n=0;return new y(r.Blank,(function(){return n<t.length&&this.yieldReturn(t.charAt(n++))}),r.Blank)}));if(typeof t==a&&0==Object.keys(t).length)return new v((function(){var n;return new y((function(){n=t()[Symbol.iterator]()}),(function(){var t=n.next();return!t.done&&this.yieldReturn(t.value)}),r.Blank)}));if(typeof t!=a){if(typeof t.length==u)return new w(t);if("undefined"!=typeof Symbol&&void 0!==t[Symbol.iterator]){let n;return new v((function(){return new y((function(){n=t[Symbol.iterator]()}),(function(){var t=n.next();return!t.done&&this.yieldReturn(t.value)}),r.Blank)}))}if(typeof t.next==a)return new v((function(){return new y(r.Blank,(function(){var n=t.next();return!n.done&&this.yieldReturn(n.value)}),r.Blank)}))}return new v((function(){var n=[],e=0;return new y((function(){for(const e in t){const r=t[e];r instanceof Function||!Object.prototype.hasOwnProperty.call(t,e)||n.push({key:e,value:r})}}),(function(){return e<n.length&&this.yieldReturn(n[e++])}),r.Blank)}))},v.make=function(t){return v.repeat(t,1)},v.matches=function(t,n,e){return null==e&&(e=""),n instanceof RegExp&&(e+=n.ignoreCase?"i":"",e+=n.multiline?"m":"",n=n.source),-1===e.indexOf("g")&&(e+="g"),new v((function(){var o;return new y((function(){o=new RegExp(n,e)}),(function(){var n=o.exec(t);return!!n&&this.yieldReturn(n)}),r.Blank)}))},v.range=function(t,n,e){return null==e&&(e=1),new v((function(){var o,u=0;return new y((function(){o=t-e}),(function(){return u++<n?this.yieldReturn(o+=e):this.yieldBreak()}),r.Blank)}))},v.rangeDown=function(t,n,e){return null==e&&(e=1),new v((function(){var o,u=0;return new y((function(){o=t+e}),(function(){return u++<n?this.yieldReturn(o-=e):this.yieldBreak()}),r.Blank)}))},v.rangeTo=function(t,n,e){return null==e&&(e=1),new v(t<n?function(){var o;return new y((function(){o=t-e}),(function(){var t=o+=e;return t<=n?this.yieldReturn(t):this.yieldBreak()}),r.Blank)}:function(){var o;return new y((function(){o=t+e}),(function(){var t=o-=e;return t>=n?this.yieldReturn(t):this.yieldBreak()}),r.Blank)})},v.repeat=function(t,n){return null!=n?v.repeat(t).take(n):new v((function(){return new y(r.Blank,(function(){return this.yieldReturn(t)}),r.Blank)}))},v.repeatWithFinalize=function(t,n){return t=l(t),n=l(n),new v((function(){var e;return new y((function(){e=t()}),(function(){return this.yieldReturn(e)}),(function(){null!=e&&(n(e),e=null)}))}))},v.generate=function(t,n){return null!=n?v.generate(t).take(n):(t=l(t),new v((function(){return new y(r.Blank,(function(){return this.yieldReturn(t())}),r.Blank)})))},v.toInfinity=function(t,n){return null==t&&(t=0),null==n&&(n=1),new v((function(){var e;return new y((function(){e=t-n}),(function(){return this.yieldReturn(e+=n)}),r.Blank)}))},v.toNegativeInfinity=function(t,n){return null==t&&(t=0),null==n&&(n=1),new v((function(){var e;return new y((function(){e=t+n}),(function(){return this.yieldReturn(e-=n)}),r.Blank)}))},v.unfold=function(t,n){return n=l(n),new v((function(){var e,o=!0;return new y(r.Blank,(function(){return o?(o=!1,e=t,this.yieldReturn(e)):(e=n(e),this.yieldReturn(e))}),r.Blank)}))},v.defer=function(t){return new v((function(){var n;return new y((function(){n=v.from(t()).getEnumerator()}),(function(){return n.moveNext()?this.yieldReturn(n.current()):this.yieldBreak()}),(function(){p(n)}))}))},v.prototype.traverseBreadthFirst=function(t,n){var e=this;return t=l(t),n=l(n),new v((function(){var r,o=0,u=[];return new y((function(){r=e.getEnumerator()}),(function(){for(;;){if(r.moveNext())return u.push(r.current()),this.yieldReturn(n(r.current(),o));const e=v.from(u).selectMany((function(n){return t(n)}));if(!e.any())return!1;o++,u=[],p(r),r=e.getEnumerator()}}),(function(){p(r)}))}))},v.prototype.traverseDepthFirst=function(t,n){var e=this;return t=l(t),n=l(n),new v((function(){var r,o=[];return new y((function(){r=e.getEnumerator()}),(function(){for(;;){if(r.moveNext()){const e=n(r.current(),o.length);return o.push(r),r=v.from(t(r.current())).getEnumerator(),this.yieldReturn(e)}if(o.length<=0)return!1;p(r),r=o.pop()}}),(function(){try{p(r)}finally{v.from(o).forEach((function(t){t.dispose()}))}}))}))},v.prototype.flatten=function(){var t=this;return new v((function(){var n,e=null;return new y((function(){n=t.getEnumerator()}),(function(){for(;;){if(null!=e){if(e.moveNext())return this.yieldReturn(e.current());e=null}if(n.moveNext()){if(n.current()instanceof Array){p(e),e=v.from(n.current()).selectMany(r.Identity).flatten().getEnumerator();continue}return this.yieldReturn(n.current())}return!1}}),(function(){try{p(n)}finally{p(e)}}))}))},v.prototype.pairwise=function(t){var n=this;return t=l(t),new v((function(){var e;return new y((function(){(e=n.getEnumerator()).moveNext()}),(function(){var n=e.current();return!!e.moveNext()&&this.yieldReturn(t(n,e.current()))}),(function(){p(e)}))}))},v.prototype.scan=function(t,n){var e;null==n?(n=l(t),e=!1):(n=l(n),e=!0);var r=this;return new v((function(){var o,u,i=!0;return new y((function(){o=r.getEnumerator()}),(function(){if(i){if(i=!1,e)return this.yieldReturn(u=t);if(o.moveNext())return this.yieldReturn(u=o.current())}return!!o.moveNext()&&this.yieldReturn(u=n(u,o.current()))}),(function(){p(o)}))}))},v.prototype.select=function(t){if((t=l(t)).length<=1)return new A(this,null,t);var n=this;return new v((function(){var e,r=0;return new y((function(){e=n.getEnumerator()}),(function(){return!!e.moveNext()&&this.yieldReturn(t(e.current(),r++))}),(function(){p(e)}))}))},v.prototype.selectMany=function(t,n){var e=this;return t=l(t),null==n&&(n=function(t,n){return n}),n=l(n),new v((function(){var r,o=void 0,u=0;return new y((function(){r=e.getEnumerator()}),(function(){if(void 0===o&&!r.moveNext())return!1;do{if(null==o){const n=t(r.current(),u++);o=v.from(n).getEnumerator()}if(o.moveNext())return this.yieldReturn(n(r.current(),o.current()));p(o),o=null}while(r.moveNext());return!1}),(function(){try{p(r)}finally{p(o)}}))}))},v.prototype.where=function(t){if((t=l(t)).length<=1)return new _(this,t);var n=this;return new v((function(){var e,r=0;return new y((function(){e=n.getEnumerator()}),(function(){for(;e.moveNext();)if(t(e.current(),r++))return this.yieldReturn(e.current());return!1}),(function(){p(e)}))}))},v.prototype.choose=function(t){t=l(t);var n=this;return new v((function(){var e,r=0;return new y((function(){e=n.getEnumerator()}),(function(){for(;e.moveNext();){const n=t(e.current(),r++);if(null!=n)return this.yieldReturn(n)}return this.yieldBreak()}),(function(){p(e)}))}))},v.prototype.ofType=function(t){var n;switch(t){case Number:n=u;break;case String:n=i;break;case Boolean:n=o;break;case Function:n=a;break;default:n=null}return null===n?this.where((function(n){return n instanceof t})):this.where((function(t){return typeof t===n}))},v.prototype.zip=function(){var t=arguments,n=l(arguments[arguments.length-1]),e=this;if(2==arguments.length){const t=arguments[0];return new v((function(){var r,o,u=0;return new y((function(){r=e.getEnumerator(),o=v.from(t).getEnumerator()}),(function(){return!(!r.moveNext()||!o.moveNext())&&this.yieldReturn(n(r.current(),o.current(),u++))}),(function(){try{p(r)}finally{p(o)}}))}))}return new v((function(){var r,o=0;return new y((function(){var n=v.make(e).concat(v.from(t).takeExceptLast().select(v.from)).select((function(t){return t.getEnumerator()})).toArray();r=v.from(n)}),(function(){if(r.all((function(t){return t.moveNext()}))){const t=r.select((function(t){return t.current()})).toArray();return t.push(o++),this.yieldReturn(n.apply(null,t))}return this.yieldBreak()}),(function(){v.from(r).forEach(p)}))}))},v.prototype.merge=function(){var t=arguments,n=this;return new v((function(){var e,r=-1;return new y((function(){e=v.make(n).concat(v.from(t).select(v.from)).select((function(t){return t.getEnumerator()})).toArray()}),(function(){for(;e.length>0;){r=r>=e.length-1?0:r+1;const t=e[r];if(t.moveNext())return this.yieldReturn(t.current());t.dispose(),e.splice(r--,1)}return this.yieldBreak()}),(function(){v.from(e).forEach(p)}))}))},v.prototype.join=function(t,n,e,o,u){n=l(n),e=l(e),o=l(o),u=l(u);var i=this;return new v((function(){var c,a,f=null,l=0;return new y((function(){c=i.getEnumerator(),a=v.from(t).toLookup(e,r.Identity,u)}),(function(){for(;;){if(null!=f){let t=f[l++];if(void 0!==t)return this.yieldReturn(o(c.current(),t));t=null,l=0}if(!c.moveNext())return!1;{const t=n(c.current());f=a.get(t).toArray()}}}),(function(){p(c)}))}))},v.prototype.leftJoin=function(t,n,e,o,u){n=l(n),e=l(e),o=l(o),u=l(u);var i=this;return new v((function(){var c,a,f=null,l=0;return new y((function(){c=i.getEnumerator(),a=v.from(t).toLookup(e,r.Identity,u)}),(function(){for(;;){if(null!=f){let t=f[l++];if(void 0!==t)return this.yieldReturn(o(c.current(),t));t=null,l=0}if(!c.moveNext())return!1;{const t=n(c.current());if(null==(f=a.get(t).toArray())||0==f.length)return this.yieldReturn(o(c.current(),null))}}}),(function(){p(c)}))}))},v.prototype.groupJoin=function(t,n,e,o,u){n=l(n),e=l(e),o=l(o),u=l(u);var i=this;return new v((function(){var c=i.getEnumerator(),a=null;return new y((function(){c=i.getEnumerator(),a=v.from(t).toLookup(e,r.Identity,u)}),(function(){if(c.moveNext()){const t=a.get(n(c.current()));return this.yieldReturn(o(c.current(),t))}return!1}),(function(){p(c)}))}))},v.prototype.all=function(t){t=l(t);var n=!0;return this.forEach((function(e){if(!t(e))return n=!1,!1})),n},v.prototype.any=function(t){t=l(t);var n=this.getEnumerator();try{if(0==arguments.length)return n.moveNext();for(;n.moveNext();)if(t(n.current()))return!0;return!1}finally{p(n)}},v.prototype.isEmpty=function(){return!this.any()},v.prototype.concat=function(){var t=this;if(1==arguments.length){const n=arguments[0];return new v((function(){var e,r;return new y((function(){e=t.getEnumerator()}),(function(){if(null==r){if(e.moveNext())return this.yieldReturn(e.current());r=v.from(n).getEnumerator()}return!!r.moveNext()&&this.yieldReturn(r.current())}),(function(){try{p(e)}finally{p(r)}}))}))}{const n=arguments;return new v((function(){var e;return new y((function(){e=v.make(t).concat(v.from(n).select(v.from)).select((function(t){return t.getEnumerator()})).toArray()}),(function(){for(;e.length>0;){const t=e[0];if(t.moveNext())return this.yieldReturn(t.current());t.dispose(),e.splice(0,1)}return this.yieldBreak()}),(function(){v.from(e).forEach(p)}))}))}},v.prototype.insert=function(t,n){var e=this;return new v((function(){var r,o,u=0,i=!1;return new y((function(){r=e.getEnumerator(),o=v.from(n).getEnumerator()}),(function(){return u==t&&o.moveNext()?(i=!0,this.yieldReturn(o.current())):r.moveNext()?(u++,this.yieldReturn(r.current())):!(i||!o.moveNext())&&this.yieldReturn(o.current())}),(function(){try{p(r)}finally{p(o)}}))}))},v.prototype.alternate=function(t){var n=this;return new v((function(){var e,r,o,u;return new y((function(){o=t instanceof Array||null!=t.getEnumerator?v.from(v.from(t).toArray()):v.make(t),(r=n.getEnumerator()).moveNext()&&(e=r.current())}),(function(){for(;;){if(null!=u){if(u.moveNext())return this.yieldReturn(u.current());u=null}if(null!=e||!r.moveNext()){if(null!=e){const t=e;return e=null,this.yieldReturn(t)}return this.yieldBreak()}e=r.current(),u=o.getEnumerator()}}),(function(){try{p(r)}finally{p(u)}}))}))},v.prototype.contains=function(t,n){n=l(n);var e=this.getEnumerator();try{for(;e.moveNext();)if(n(e.current())===t)return!0;return!1}finally{p(e)}},v.prototype.defaultIfEmpty=function(t){var n=this;return void 0===t&&(t=null),new v((function(){var e,r=!0;return new y((function(){e=n.getEnumerator()}),(function(){return e.moveNext()?(r=!1,this.yieldReturn(e.current())):!!r&&(r=!1,this.yieldReturn(t))}),(function(){p(e)}))}))},v.prototype.distinct=function(t){return this.except(v.empty(),t)},v.prototype.distinctUntilChanged=function(t){t=l(t);var n=this;return new v((function(){var e,r,o;return new y((function(){e=n.getEnumerator()}),(function(){for(;e.moveNext();){const n=t(e.current());if(o)return o=!1,r=n,this.yieldReturn(e.current());if(r!==n)return r=n,this.yieldReturn(e.current())}return this.yieldBreak()}),(function(){p(e)}))}))},v.prototype.except=function(t,n){n=l(n);var e=this;return new v((function(){var r,o;return new y((function(){r=e.getEnumerator(),o=new N(n),v.from(t).forEach((function(t){o.add(t)}))}),(function(){for(;r.moveNext();){const t=r.current();if(!o.contains(t))return o.add(t),this.yieldReturn(t)}return!1}),(function(){p(r)}))}))},v.prototype.intersect=function(t,n){n=l(n);var e=this;return new v((function(){var r,o,u;return new y((function(){r=e.getEnumerator(),o=new N(n),v.from(t).forEach((function(t){o.add(t)})),u=new N(n)}),(function(){for(;r.moveNext();){const t=r.current();if(!u.contains(t)&&o.contains(t))return u.add(t),this.yieldReturn(t)}return!1}),(function(){p(r)}))}))},v.prototype.sequenceEqual=function(t,n){n=l(n);var e=this.getEnumerator();try{const r=v.from(t).getEnumerator();try{for(;e.moveNext();)if(!r.moveNext()||n(e.current())!==n(r.current()))return!1;return!r.moveNext()}finally{p(r)}}finally{p(e)}},v.prototype.union=function(t,n){n=l(n);var e=this;return new v((function(){var r,o,u;return new y((function(){r=e.getEnumerator(),u=new N(n)}),(function(){var n;if(void 0===o){for(;r.moveNext();)if(n=r.current(),!u.contains(n))return u.add(n),this.yieldReturn(n);o=v.from(t).getEnumerator()}for(;o.moveNext();)if(n=o.current(),!u.contains(n))return u.add(n),this.yieldReturn(n);return!1}),(function(){try{p(r)}finally{p(o)}}))}))},v.prototype.orderBy=function(t,n){return new m(this,t,n,!1)},v.prototype.orderByDescending=function(t,n){return new m(this,t,n,!0)},v.prototype.reverse=function(){var t=this;return new v((function(){var n,e;return new y((function(){n=t.toArray(),e=n.length}),(function(){return e>0&&this.yieldReturn(n[--e])}),r.Blank)}))},v.prototype.shuffle=function(){var t=this;return new v((function(){var n;return new y((function(){n=t.toArray()}),(function(){if(n.length>0){const t=Math.floor(Math.random()*n.length);return this.yieldReturn(n.splice(t,1)[0])}return!1}),r.Blank)}))},v.prototype.weightedSample=function(t){t=l(t);var n=this;return new v((function(){var e,o=0;return new y((function(){e=n.choose((function(n){var e=t(n);return e<=0?null:{value:n,bound:o+=e}})).toArray()}),(function(){if(e.length>0){const t=Math.floor(Math.random()*o)+1;let n=-1,r=e.length;for(;r-n>1;){const o=Math.floor((n+r)/2);e[o].bound>=t?r=o:n=o}return this.yieldReturn(e[r].value)}return this.yieldBreak()}),r.Blank)}))},v.prototype.groupBy=function(t,n,e,r){var o=this;return t=l(t),n=l(n),null!=e&&(e=l(e)),r=l(r),new v((function(){var u;return new y((function(){u=o.toLookup(t,n,r).toEnumerable().getEnumerator()}),(function(){for(;u.moveNext();)return null==e?this.yieldReturn(u.current()):this.yieldReturn(e(u.current().key(),u.current()));return!1}),(function(){p(u)}))}))},v.prototype.partitionBy=function(t,n,e,r){var o,u=this;return t=l(t),n=l(n),r=l(r),null==e?(o=!1,e=function(t,n){return new R(t,n)}):(o=!0,e=l(e)),new v((function(){var i,c,a,f=[];return new y((function(){(i=u.getEnumerator()).moveNext()&&(c=t(i.current()),a=r(c),f.push(n(i.current())))}),(function(){for(var u;1==(u=i.moveNext())&&a===r(t(i.current()));)f.push(n(i.current()));if(f.length>0){const l=e(c,o?v.from(f):f);return u?(c=t(i.current()),a=r(c),f=[n(i.current())]):f=[],this.yieldReturn(l)}return!1}),(function(){p(i)}))}))},v.prototype.buffer=function(t){var n=this;return new v((function(){var e;return new y((function(){e=n.getEnumerator()}),(function(){for(var n=[],r=0;e.moveNext();)if(n.push(e.current()),++r>=t)return this.yieldReturn(n);return n.length>0&&this.yieldReturn(n)}),(function(){p(e)}))}))},v.prototype.aggregate=function(t,n,e){return(e=l(e))(this.scan(t,n,e).last())},v.prototype.average=function(t){t=l(t);var n=0,e=0;return this.forEach((function(r){n+=t(r),++e})),n/e},v.prototype.count=function(t){t=null==t?r.True:l(t);var n=0;return this.forEach((function(e,r){t(e,r)&&++n})),n},v.prototype.max=function(t){return null==t&&(t=r.Identity),this.select(t).aggregate((function(t,n){return t>n?t:n}))},v.prototype.min=function(t){return null==t&&(t=r.Identity),this.select(t).aggregate((function(t,n){return t<n?t:n}))},v.prototype.maxBy=function(t){return t=l(t),this.aggregate((function(n,e){return t(n)>t(e)?n:e}))},v.prototype.minBy=function(t){return t=l(t),this.aggregate((function(n,e){return t(n)<t(e)?n:e}))},v.prototype.sum=function(t){return null==t&&(t=r.Identity),this.select(t).aggregate(0,(function(t,n){return t+n}))},v.prototype.elementAt=function(t){var n,e=!1;if(this.forEach((function(r,o){if(o==t)return n=r,e=!0,!1})),!e)throw new Error("index is less than 0 or greater than or equal to the number of elements in source.");return n},v.prototype.elementAtOrDefault=function(t,n){var e;void 0===n&&(n=null);var r=!1;return this.forEach((function(n,o){if(o==t)return e=n,r=!0,!1})),r?e:n},v.prototype.first=function(t){if(null!=t)return this.where(t).first();var n,e=!1;if(this.forEach((function(t){return n=t,e=!0,!1})),!e)throw new Error("first:No element satisfies the condition.");return n},v.prototype.firstOrDefault=function(t,n){if(void 0!==t){if(typeof t===a||typeof l(t)===a)return this.where(t).firstOrDefault(void 0,n);n=t}var e,r=!1;return this.forEach((function(t){return e=t,r=!0,!1})),r?e:n},v.prototype.last=function(t){if(null!=t)return this.where(t).last();var n,e=!1;if(this.forEach((function(t){e=!0,n=t})),!e)throw new Error("last:No element satisfies the condition.");return n},v.prototype.lastOrDefault=function(t,n){if(void 0!==t){if(typeof t===a||typeof l(t)===a)return this.where(t).lastOrDefault(void 0,n);n=t}var e,r=!1;return this.forEach((function(t){r=!0,e=t})),r?e:n},v.prototype.single=function(t){if(null!=t)return this.where(t).single();var n,e=!1;if(this.forEach((function(t){if(e)throw new Error("single:sequence contains more than one element.");e=!0,n=t})),!e)throw new Error("single:No element satisfies the condition.");return n},v.prototype.singleOrDefault=function(t,n){if(void 0===n&&(n=null),null!=t)return this.where(t).singleOrDefault(null,n);var e,r=!1;return this.forEach((function(t){if(r)throw new Error("single:sequence contains more than one element.");r=!0,e=t})),r?e:n},v.prototype.skip=function(t){var n=this;return new v((function(){var e,r=0;return new y((function(){for(e=n.getEnumerator();r++<t&&e.moveNext(););}),(function(){return!!e.moveNext()&&this.yieldReturn(e.current())}),(function(){p(e)}))}))},v.prototype.skipWhile=function(t){t=l(t);var n=this;return new v((function(){var e,r=0,o=!1;return new y((function(){e=n.getEnumerator()}),(function(){for(;!o;){if(!e.moveNext())return!1;if(!t(e.current(),r++))return o=!0,this.yieldReturn(e.current())}return!!e.moveNext()&&this.yieldReturn(e.current())}),(function(){p(e)}))}))},v.prototype.take=function(t){var n=this;return new v((function(){var e,r=0;return new y((function(){e=n.getEnumerator()}),(function(){return!!(r++<t&&e.moveNext())&&this.yieldReturn(e.current())}),(function(){p(e)}))}))},v.prototype.takeWhile=function(t){t=l(t);var n=this;return new v((function(){var e,r=0;return new y((function(){e=n.getEnumerator()}),(function(){return!(!e.moveNext()||!t(e.current(),r++))&&this.yieldReturn(e.current())}),(function(){p(e)}))}))},v.prototype.takeExceptLast=function(t){null==t&&(t=1);var n=this;return new v((function(){if(t<=0)return n.getEnumerator();var e,r=[];return new y((function(){e=n.getEnumerator()}),(function(){for(;e.moveNext();){if(r.length==t)return r.push(e.current()),this.yieldReturn(r.shift());r.push(e.current())}return!1}),(function(){p(e)}))}))},v.prototype.takeFromLast=function(t){if(t<=0||null==t)return v.empty();var n=this;return new v((function(){var e,r,o=[];return new y((function(){e=n.getEnumerator()}),(function(){for(;e.moveNext();)o.length==t&&o.shift(),o.push(e.current());return null==r&&(r=v.from(o).getEnumerator()),!!r.moveNext()&&this.yieldReturn(r.current())}),(function(){p(r)}))}))},v.prototype.indexOf=function(t){var n=null;return typeof t===a?this.forEach((function(e,r){if(t(e,r))return n=r,!1})):this.forEach((function(e,r){if(e===t)return n=r,!1})),null!==n?n:-1},v.prototype.lastIndexOf=function(t){var n=-1;return typeof t===a?this.forEach((function(e,r){t(e,r)&&(n=r)})):this.forEach((function(e,r){e===t&&(n=r)})),n},v.prototype.cast=function(){return this},v.prototype.asEnumerable=function(){return v.from(this)},v.prototype.toArray=function(){var t=[];return this.forEach((function(n){t.push(n)})),t},v.prototype.toLookup=function(t,n,e){t=l(t),n=l(n),e=l(e);var r=new N(e);return this.forEach((function(e){var o=t(e),u=n(e),i=r.get(o);void 0!==i?i.push(u):r.add(o,[u])})),new S(r)},v.prototype.toObject=function(t,n){t=l(t),n=l(n);var e={};return this.forEach((function(r){e[t(r)]=n(r)})),e},v.prototype.toDictionary=function(t,n,e){t=l(t),n=l(n),e=l(e);var r=new N(e);return this.forEach((function(e){r.add(t(e),n(e))})),r},v.prototype.toJSONString=function(t,n){if(typeof JSON===c||null==JSON.stringify)throw new Error("toJSONString can't find JSON.stringify. This works native JSON support Browser or include json2.js");return JSON.stringify(this.toArray(),t,n)},v.prototype.toJoinedString=function(t,n){return null==t&&(t=""),null==n&&(n=r.Identity),this.select(n).toArray().join(t)},v.prototype.doAction=function(t){var n=this;return t=l(t),new v((function(){var e,r=0;return new y((function(){e=n.getEnumerator()}),(function(){return!!e.moveNext()&&(t(e.current(),r++),this.yieldReturn(e.current()))}),(function(){p(e)}))}))},v.prototype.forEach=function(t){t=l(t);var n=0,e=this.getEnumerator();try{for(;e.moveNext()&&!1!==t(e.current(),n++););}finally{p(e)}},v.prototype.force=function(){var t=this.getEnumerator();try{for(;t.moveNext(););}finally{p(t)}},v.prototype.letBind=function(t){t=l(t);var n=this;return new v((function(){var e;return new y((function(){e=v.from(t(n)).getEnumerator()}),(function(){return!!e.moveNext()&&this.yieldReturn(e.current())}),(function(){p(e)}))}))},v.prototype.share=function(){var t,n=this,e=!1;return new g((function(){return new y((function(){null==t&&(t=n.getEnumerator())}),(function(){if(e)throw new Error("enumerator is disposed");return!!t.moveNext()&&this.yieldReturn(t.current())}),r.Blank)}),(function(){e=!0,p(t)}))},v.prototype.memoize=function(){var t,n,e=this,o=!1;return new g((function(){var u=-1;return new y((function(){null==n&&(n=e.getEnumerator(),t=[])}),(function(){if(o)throw new Error("enumerator is disposed");return u++,t.length<=u?!!n.moveNext()&&this.yieldReturn(t[u]=n.current()):this.yieldReturn(t[u])}),r.Blank)}),(function(){o=!0,p(n),t=null}))},"undefined"!=typeof Symbol&&void 0!==Symbol.iterator&&(v.prototype[Symbol.iterator]=function(){return{enumerator:this.getEnumerator(),next:function(){return this.enumerator.moveNext()?{done:!1,value:this.enumerator.current()}:{done:!0}}}}),v.prototype.catchError=function(t){t=l(t);var n=this;return new v((function(){var e;return new y((function(){e=n.getEnumerator()}),(function(){try{return!!e.moveNext()&&this.yieldReturn(e.current())}catch(n){return t(n),!1}}),(function(){p(e)}))}))},v.prototype.finallyAction=function(t){t=l(t);var n=this;return new v((function(){var e;return new y((function(){e=n.getEnumerator()}),(function(){return!!e.moveNext()&&this.yieldReturn(e.current())}),(function(){try{p(e)}finally{t()}}))}))},v.prototype.log=function(t){return t=l(t),this.doAction((function(n){typeof console!==c&&console.log(t(n))}))},v.prototype.trace=function(t,n){return null==t&&(t="Trace"),n=l(n),this.doAction((function(e){typeof console!==c&&console.log(t,n(e))}))};var m=function(t,n,e,r,o){this.source=t,this.keySelector=l(n),this.descending=r,this.parent=o,e&&(this.comparer=l(e))};m.prototype=new v,m.prototype.createOrderedEnumerable=function(t,n,e){return new m(this.source,t,n,e,this)},m.prototype.thenBy=function(t,n){return this.createOrderedEnumerable(t,n,!1)},m.prototype.thenByDescending=function(t,n){return this.createOrderedEnumerable(t,n,!0)},m.prototype.getEnumerator=function(){var t,n,e=this,o=0;return new y((function(){t=[],n=[],e.source.forEach((function(e,r){t.push(e),n.push(r)}));var r=E.create(e,null);r.GenerateKeys(t),n.sort((function(t,n){return r.compare(t,n)}))}),(function(){return o<n.length&&this.yieldReturn(t[n[o++]])}),r.Blank)};var E=function(t,n,e,r){this.keySelector=t,this.descending=e,this.child=r,this.comparer=n,this.keys=null};E.create=function(t,n){var e=new E(t.keySelector,t.comparer,t.descending,n);return null!=t.parent?E.create(t.parent,e):e},E.prototype.GenerateKeys=function(t){var n=t.length,e=this.keySelector,r=new Array(n);for(let o=0;o<n;o++)r[o]=e(t[o]);this.keys=r,null!=this.child&&this.child.GenerateKeys(t)},E.prototype.compare=function(t,n){var e=this.comparer?this.comparer(this.keys[t],this.keys[n]):h(this.keys[t],this.keys[n]);return 0==e?null!=this.child?this.child.compare(t,n):h(t,n):this.descending?-e:e};var g=function(t,n){this.dispose=n,v.call(this,t)};g.prototype=new v;var w=function(t){this.getSource=function(){return t}};w.prototype=new v,w.prototype.any=function(t){return null==t?this.getSource().length>0:v.prototype.any.apply(this,arguments)},w.prototype.count=function(t){return null==t?this.getSource().length:v.prototype.count.apply(this,arguments)},w.prototype.elementAt=function(t){var n=this.getSource();return 0<=t&&t<n.length?n[t]:v.prototype.elementAt.apply(this,arguments)},w.prototype.elementAtOrDefault=function(t,n){void 0===n&&(n=null);var e=this.getSource();return 0<=t&&t<e.length?e[t]:n},w.prototype.first=function(t){var n=this.getSource();return null==t&&n.length>0?n[0]:v.prototype.first.apply(this,arguments)},w.prototype.firstOrDefault=function(t,n){if(void 0!==t)return v.prototype.firstOrDefault.apply(this,arguments);n=t;var e=this.getSource();return e.length>0?e[0]:n},w.prototype.last=function(t){var n=this.getSource();return null==t&&n.length>0?n[n.length-1]:v.prototype.last.apply(this,arguments)},w.prototype.lastOrDefault=function(t,n){if(void 0!==t)return v.prototype.lastOrDefault.apply(this,arguments);n=t;var e=this.getSource();return e.length>0?e[e.length-1]:n},w.prototype.skip=function(t){var n=this.getSource();return new v((function(){var e;return new y((function(){e=t<0?0:t}),(function(){return e<n.length&&this.yieldReturn(n[e++])}),r.Blank)}))},w.prototype.takeExceptLast=function(t){return null==t&&(t=1),this.take(this.getSource().length-t)},w.prototype.takeFromLast=function(t){return this.skip(this.getSource().length-t)},w.prototype.reverse=function(){var t=this.getSource();return new v((function(){var n;return new y((function(){n=t.length}),(function(){return n>0&&this.yieldReturn(t[--n])}),r.Blank)}))},w.prototype.sequenceEqual=function(t,n){return(!(t instanceof w||t instanceof Array)||null!=n||v.from(t).count()==this.count())&&v.prototype.sequenceEqual.apply(this,arguments)},w.prototype.toJoinedString=function(t,n){var e=this.getSource();return null==n&&e instanceof Array?(null==t&&(t=""),e.join(t)):v.prototype.toJoinedString.apply(this,arguments)},w.prototype.getEnumerator=function(){var t=this.getSource(),n=-1;return{current:function(){return t[n]},moveNext:function(){return++n<t.length},dispose:r.Blank}};var _=function(t,n){this.prevSource=t,this.prevPredicate=n};_.prototype=new v,_.prototype.where=function(t){if((t=l(t)).length<=1){const n=this.prevPredicate,e=function(e){return n(e)&&t(e)};return new _(this.prevSource,e)}return v.prototype.where.call(this,t)},_.prototype.select=function(t){return(t=l(t)).length<=1?new A(this.prevSource,this.prevPredicate,t):v.prototype.select.call(this,t)},_.prototype.getEnumerator=function(){var t,n=this.prevPredicate,e=this.prevSource;return new y((function(){t=e.getEnumerator()}),(function(){for(;t.moveNext();)if(n(t.current()))return this.yieldReturn(t.current());return!1}),(function(){p(t)}))};var A=function(t,n,e){this.prevSource=t,this.prevPredicate=n,this.prevSelector=e};A.prototype=new v,A.prototype.where=function(t){return(t=l(t)).length<=1?new _(this,t):v.prototype.where.call(this,t)},A.prototype.select=function(t){if((t=l(t)).length<=1){const n=this.prevSelector,e=function(e){return t(n(e))};return new A(this.prevSource,this.prevPredicate,e)}return v.prototype.select.call(this,t)},A.prototype.getEnumerator=function(){var t,n=this.prevPredicate,e=this.prevSelector,r=this.prevSource;return new y((function(){t=r.getEnumerator()}),(function(){for(;t.moveNext();)if(null==n||n(t.current()))return this.yieldReturn(e(t.current()));return!1}),(function(){p(t)}))};var N=function(){var t=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n=function(t){return null===t?"null":void 0===t?"undefined":typeof t.toString===a?t.toString():Object.prototype.toString.call(t)},e=function(t,n){this.key=t,this.value=n,this.prev=null,this.next=null},o=function(){this.first=null,this.last=null};o.prototype={addLast:function(t){null!=this.last?(this.last.next=t,t.prev=this.last,this.last=t):this.first=this.last=t},replace:function(t,n){null!=t.prev?(t.prev.next=n,n.prev=t.prev):this.first=n,null!=t.next?(t.next.prev=n,n.next=t.next):this.last=n},remove:function(t){null!=t.prev?t.prev.next=t.next:this.first=t.next,null!=t.next?t.next.prev=t.prev:this.last=t.prev}};var u=function(t){this.countField=0,this.entryList=new o,this.buckets={},this.compareSelector=null==t?r.Identity:t};return u.prototype={add:function(r,o){var u=this.compareSelector(r),i=n(u),c=new e(r,o);if(t(this.buckets,i)){const t=this.buckets[i];for(let n=0;n<t.length;n++)if(this.compareSelector(t[n].key)===u)return this.entryList.replace(t[n],c),void(t[n]=c);t.push(c)}else this.buckets[i]=[c];this.countField++,this.entryList.addLast(c)},get:function(e){var r=this.compareSelector(e),o=n(r);if(t(this.buckets,o)){var u=this.buckets[o];for(let t=0;t<u.length;t++){const n=u[t];if(this.compareSelector(n.key)===r)return n.value}}},set:function(r,o){var u=this.compareSelector(r),i=n(u);if(t(this.buckets,i)){const t=this.buckets[i];for(let n=0;n<t.length;n++)if(this.compareSelector(t[n].key)===u){const u=new e(r,o);return this.entryList.replace(t[n],u),t[n]=u,!0}}return!1},contains:function(e){var r=this.compareSelector(e),o=n(r);if(!t(this.buckets,o))return!1;var u=this.buckets[o];for(let t=0;t<u.length;t++)if(this.compareSelector(u[t].key)===r)return!0;return!1},clear:function(){this.countField=0,this.buckets={},this.entryList=new o},remove:function(e){var r=this.compareSelector(e),o=n(r);if(t(this.buckets,o)){var u=this.buckets[o];for(let t=0;t<u.length;t++)if(this.compareSelector(u[t].key)===r)return this.entryList.remove(u[t]),u.splice(t,1),0==u.length&&delete this.buckets[o],void this.countField--}},count:function(){return this.countField},toEnumerable:function(){var t=this;return new v((function(){var n;return new y((function(){n=t.entryList.first}),(function(){if(null!=n){const t={key:n.key,value:n.value};return n=n.next,this.yieldReturn(t)}return!1}),r.Blank)}))}},u}(),S=function(t){this.count=function(){return t.count()},this.get=function(n){return v.from(t.get(n))},this.contains=function(n){return t.contains(n)},this.toEnumerable=function(){return t.toEnumerable().select((function(t){return new R(t.key,t.value)}))}},R=function(t,n){this.key=function(){return t},w.call(this,n)};R.prototype=new w;const k=v},976:(t,n,e)=>{e.r(n)},659:(t,n,e)=>{e.r(n)},36:(t,n,e)=>{e.r(n)},752:(t,n,e)=>{var r=e(514);e(659),e(36),e(976),window.onload=function(){r.createCardImages();var t=function(){var t=Array.from(document.querySelectorAll(".card"));if(0===t.length)return null;var n=Array.from(document.querySelectorAll(".card-image-front"));if(0===n.length)return null;var e=Array.from(document.querySelectorAll(".card-image-back"));if(0===e.length)return null;var r=document.getElementById("life-area");if(null===r)return null;var o=document.getElementById("pair-count-area");if(null===o)return null;var u=document.getElementById("message-area");return null===u?null:{cardAreas:t,frontCardImages:n,backCardImages:e,lifeArea:r,messageArea:u,pairCountArea:o}}();if(null!==t){for(var n=function(n){n.addEventListener("dblclick",(function(){return r.selectCard(n,t)}))},e=0,o=t.cardAreas;e<o.length;e++)n(o[e]);var u=document.getElementById("reset-button");null!==u&&(u.addEventListener("click",(function(n){return r.resetGame(t)})),r.addLifeImages(t),r.init(t),document.addEventListener("dblclick",(function(t){return t.preventDefault()}),{passive:!1}))}},document.addEventListener("selectstart",(function(t){return t.preventDefault()})),document.addEventListener("touchstart",(function(t){return t.preventDefault()}))},309:(t,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.OPEN_CLASS_NAME=n.DEFAULT_SELECTED_CARD_NUMBERS=n.GRAY_OUT_CLASS_NAME=n.MISS_CLASS_NAME=n.HIT_CLASS_NAME=n.CARD_TYPE_LIST=n.LIFE_IMAGE_CLASS_NAME=n.MAX_MISS_NUMBER=n.LIFE_IMAGE_FILE_NAME=n.DEFAULT_CARD_FILE_NAME=n.IMAGE_EXTENSION=n.IMAGE_FOLDER_PATH=n.END_CARD_NUMBER=n.START_CARD_NUMBER=n.JOKER_TYPE=n.JOKER_NUMBER=n.MAX_PAIR_NUMBER=n.SELECTABLE_NUMBER=n.CARD_TABLE_MAX_ROW_NUMBER=n.CARD_COUNT_PER_ONE_ROW=void 0,n.CARD_COUNT_PER_ONE_ROW=5,n.CARD_TABLE_MAX_ROW_NUMBER=4,n.SELECTABLE_NUMBER=2,n.MAX_PAIR_NUMBER=10,n.JOKER_NUMBER=14,n.JOKER_TYPE=4,n.START_CARD_NUMBER=1,n.END_CARD_NUMBER=14,n.IMAGE_FOLDER_PATH="./images/",n.IMAGE_EXTENSION=".gif",n.DEFAULT_CARD_FILE_NAME="z02",n.LIFE_IMAGE_FILE_NAME="lifeImage.png",n.MAX_MISS_NUMBER=7,n.LIFE_IMAGE_CLASS_NAME="life-image",n.CARD_TYPE_LIST=[{key:"Spade",value:"s"},{key:"Heart",value:"h"},{key:"Diamond",value:"d"},{key:"Club",value:"c"},{key:"Joker",value:"x"}],n.HIT_CLASS_NAME="hit",n.MISS_CLASS_NAME="miss",n.GRAY_OUT_CLASS_NAME="gray-out",n.DEFAULT_SELECTED_CARD_NUMBERS={first:-1,second:-1},n.OPEN_CLASS_NAME="open"},514:function(t,n,e){var r=this&&this.__createBinding||(Object.create?function(t,n,e,r){void 0===r&&(r=e),Object.defineProperty(t,r,{enumerable:!0,get:function(){return n[e]}})}:function(t,n,e,r){void 0===r&&(r=e),t[r]=n[e]}),o=this&&this.__setModuleDefault||(Object.create?function(t,n){Object.defineProperty(t,"default",{enumerable:!0,value:n})}:function(t,n){t.default=n}),u=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var e in t)"default"!==e&&Object.prototype.hasOwnProperty.call(t,e)&&r(n,t,e);return o(n,t),n},i=this&&this.__awaiter||function(t,n,e,r){return new(e||(e=Promise))((function(o,u){function i(t){try{a(r.next(t))}catch(t){u(t)}}function c(t){try{a(r.throw(t))}catch(t){u(t)}}function a(t){var n;t.done?o(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(i,c)}a((r=r.apply(t,n||[])).next())}))},c=this&&this.__generator||function(t,n){var e,r,o,u,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return u={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function c(u){return function(c){return function(u){if(e)throw new TypeError("Generator is already executing.");for(;i;)try{if(e=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,r=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=n.call(t,i)}catch(t){u=[6,t],r=0}finally{e=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0}),n.init=n.resetGame=n.selectCard=n.createCardImages=n.addLifeImages=void 0;var f,l,s,h,p,y,d,v,m=u(e(309)),E=a(e(255)),g=function(t){var n,e=f[t],r=e.value===m.JOKER_NUMBER,o=m.CARD_TYPE_LIST[r?m.JOKER_TYPE:e.type],u=(n=r?e.type:e.value,2,String(n).padStart(2,"0")),i=o.value+u+m.IMAGE_EXTENSION;return m.IMAGE_FOLDER_PATH+i},w=function(t,n,e){void 0===e&&(e=null);var r=t.messageArea;r.innerText=n,null!==e&&r.classList.add(e),r.style.display="block",t.pairCountArea.style.display="none"},_=function(t){var n=t.messageArea;n.style.display="none",n.classList.remove(m.HIT_CLASS_NAME),n.classList.remove(m.MISS_CLASS_NAME),t.pairCountArea.style.display="block"},A=function(t){return t+" ペア"},N=function(){for(var t=0,n=s;t<n.length;t++){var e=n[t],r=document.querySelector('.card[data-card-number="'+e+'"]');if(null===r)return;r.classList.add(m.GRAY_OUT_CLASS_NAME)}},S=function(t){var n=t.target;if(null!==n){var e=n.closest("li");null!==e&&e.removeEventListener("animationend",S)}};n.addLifeImages=function(t){for(var n=m.MAX_MISS_NUMBER;n>0;n--){var e=document.createElement("img");e.id="life_"+n,e.classList.add(m.LIFE_IMAGE_CLASS_NAME),e.src=m.IMAGE_FOLDER_PATH+m.LIFE_IMAGE_FILE_NAME,t.lifeArea.appendChild(e)}};var R=function(t,n){return E.default.range(t,n).toArray()},k=function(t,n){if(n){var e=R(1,2);return E.default.from(e).shuffle().toArray()}return E.default.from(t).shuffle().toArray()},M=function(t){var n=document.createElement("li");n.classList.add("card"),n.dataset.cardNumber=t.toString();var e=document.createElement("div");e.classList.add("back");var r=document.createElement("img");r.classList.add("card-image-back"),r.alt="トランプ画像（裏） "+(t+1),r.dataset.cardNumber=t.toString();var o=m.IMAGE_FOLDER_PATH+m.DEFAULT_CARD_FILE_NAME+m.IMAGE_EXTENSION;r.src=o,e.appendChild(r);var u=document.createElement("div");u.classList.add("front");var i=document.createElement("img");return i.id="card_front_"+(t+1),i.classList.add("card-image-front"),i.alt="トランプ画像（表） "+(t+1),i.dataset.cardNumber=t.toString(),u.appendChild(i),n.append(e,u),n};n.createCardImages=function(){var t=document.getElementById("card-area");if(null!==t){for(var n=[],e=0,r=0;r<m.CARD_TABLE_MAX_ROW_NUMBER;r++){var o=document.createElement("ul");o.classList.add("cards");for(var u=0;u<m.CARD_COUNT_PER_ONE_ROW;u++){var i=M(e);o.appendChild(i),e++}n.push(o)}t.append.apply(t,n)}};n.selectCard=function(t,n){return i(void 0,void 0,void 0,(function(){var e,r;return c(this,(function(o){switch(o.label){case 0:return t.classList.contains(m.GRAY_OUT_CLASS_NAME)?[2]:function(t){if(!h)return!1;if(p)return!1;if(y)return!1;var n=1===l,e=s[0]===t;return!n||!e}(e=Number(t.dataset.cardNumber))?(t.classList.add("open"),s.push(e),++l!==m.SELECTABLE_NUMBER?[2]:(h=!1,function(t,n){if(t)return w(n,"当たり！",m.HIT_CLASS_NAME),d++,void(n.pairCountArea.textContent=A(d));w(n,"はずれ…",m.MISS_CLASS_NAME),function(t){var n=document.getElementById("life_"+t);null!==n&&(n.style.visibility="hidden")}(++v)}(r=f[s[0]].value===f[s[1]].value,n),[4,(1e3,new Promise((function(t){return setTimeout(t,1e3)})))])):[2];case 1:return o.sent(),_(n),d===m.MAX_PAIR_NUMBER?(p=!0,w(n,"クリア！"),n.messageArea.classList.remove(m.HIT_CLASS_NAME),N(),[2]):v===m.MAX_MISS_NUMBER?(y=!0,w(n,"残念…"+d+"ペア"),n.messageArea.classList.remove(m.MISS_CLASS_NAME),function(){for(var t=".card:not(."+m.GRAY_OUT_CLASS_NAME+"):not(."+m.OPEN_CLASS_NAME+")",n=0,e=Array.from(document.querySelectorAll(t));n<e.length;n++){var r=e[n],o=Number(r.dataset.cardNumber);if(!Number.isNaN(o)){var u=document.getElementById("card_front_"+(o+1));null!==u&&(u.src=g(o),r.classList.add(m.OPEN_CLASS_NAME))}}}(),[2]):(n.messageArea.classList.remove(m.HIT_CLASS_NAME,m.MISS_CLASS_NAME),h=!0,r?N():function(){for(var t=0,n=s;t<n.length;t++){var e=n[t],r=document.getElementById("card_front_"+(e+1));if(null!==r){var o=r.closest("li");null!==o&&(o.classList.remove(m.OPEN_CLASS_NAME),o.addEventListener("animationend",S))}}}(),l=0,s=[],[2])}}))}))},n.resetGame=function(t){if(!(0===d&&0===v&&0===l||d!==m.MAX_PAIR_NUMBER&&v!==m.MAX_MISS_NUMBER&&window.confirm("まだプレイ中ですが、リセットしますか？"))){_(t),function(){for(var t=m.MAX_MISS_NUMBER;t>0;t--){var n=document.getElementById("life_"+t);if(null===n)return;n.style.visibility="visible"}}(),document.querySelectorAll("."+m.GRAY_OUT_CLASS_NAME).forEach((function(t){return t.classList.remove(m.GRAY_OUT_CLASS_NAME)}));for(var e=0,r=t.cardAreas;e<r.length;e++){var o=r[e],u=Number(o.dataset.cardNumber);Number.isNaN(u)||(o.classList.remove(m.OPEN_CLASS_NAME),o.addEventListener("animationend",S))}n.init(t);var i=document.getElementById("menu-btn");null!==i&&(i.checked=!1)}},n.init=function(t){var n,e;f=[],l=0,s=[],h=!0,p=!1,y=!1,d=0,v=0,t.pairCountArea.textContent=A(0),t.messageArea.style.display="none",n=R(m.START_CARD_NUMBER,m.END_CARD_NUMBER),e=function(t,n){for(var e=m.CARD_TYPE_LIST,r=R(0,e.length-1),o=new Array,u=0;u<n;u++)for(var i=t[u],c=i===m.JOKER_NUMBER,a=k(r,c),f=0;f<2;f++){var l=a[f];o.push({type:l,value:i})}return o}(E.default.from(n).shuffle().toArray(),m.MAX_PAIR_NUMBER),f=E.default.from(e).shuffle().toArray();for(var r=0,o=t.cardAreas;r<o.length;r++){var u=o[r],i=Number(u.dataset.cardNumber);if(!Number.isNaN(i)){var c=document.getElementById("card_front_"+(i+1));null!==c&&(c.src=g(i))}}}}},n={};function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{}};return t[r].call(o.exports,o,o.exports,e),o.exports}e.d=(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},e.o=(t,n)=>Object.prototype.hasOwnProperty.call(t,n),e.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e(752)})();